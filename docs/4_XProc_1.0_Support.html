<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>4 XProc 1.0 Support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e197">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8004">oXygen XProc 3.0 support (oXygen versions &lt; 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-libraries"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">4 </span>XProc 1.0 Support</h1></div><p class="para" id="d9458e8095"><a name="d9458e8095"><!----></a>The xtpxlib-common component contains the following XProc 1.0 library module:</p><p class="para" id="d9458e8098"><a name="d9458e8098"><!----></a><b>WARNING</b>: XProc 1.0 support is considered deprecated and will be removed in the near future!</p><div class="table" id="d9458e8103"><a name="d9458e8103"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8109" class="thead-light"><tr id="d9458e8110"><th id="d9458e8111"><a name="d9458e8111"><!----></a>Module/Pipeline</th><th id="d9458e8113"><a name="d9458e8113"><!----></a>Description</th></tr></thead><tbody id="d9458e8115"><tr id="d9458e8116"><td id="d9458e8117"><a name="d9458e8117"><!----></a><a name="d9458e8118"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl"><span class="link">common.mod.xpl</span></a></code></td><td id="d9458e8122"><a name="d9458e8122"><!----></a><a name="d9458e8123"><!----></a>XProc (1.0) library with generic steps.</td></tr></tbody></table></div><div class="sect1" id="common.mod.xpl"><a name="common.mod.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.1</span> XProc (1.0) library: <code class="code">common.mod.xpl</code></h2><p class="para keep-with-next" id="d9458e8130"><a name="d9458e8130"><!----></a>File: <code class="code">xplmod/common.mod/common.mod.xpl</code></p><p class="para" id="d9458e8134"><a name="d9458e8134"><!----></a>XProc (1.0) library with generic steps.</p><div class="table nonumber" id="d9458e8136"><a name="d9458e8136"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8141" class="thead-light"><tr id="d9458e8142"><th id="d9458e8143"><a name="d9458e8143"><!----></a>Prefix</th><th id="d9458e8145"><a name="d9458e8145"><!----></a>Namespace URI</th></tr></thead><tbody id="d9458e8147"><tr id="d9458e8148"><td id="d9458e8149"><a name="d9458e8149"><!----></a><a name="d9458e8150"><!----></a><code class="code code-width-limited">xtlc</code></td><td id="d9458e8153"><a name="d9458e8153"><!----></a><a name="d9458e8154"><!----></a><code class="code">http://www.xtpxlib.nl/ns/common</code></td></tr></tbody></table></div><div class="table nonumber" id="d9458e8157"><a name="d9458e8157"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8162" class="thead-light"><tr id="d9458e8163"><th id="d9458e8164"><a name="d9458e8164"><!----></a>Step</th><th id="d9458e8166"><a name="d9458e8166"><!----></a>Description</th></tr></thead><tbody id="d9458e8168"><tr id="d9458e8169"><td id="d9458e8170"><a name="d9458e8170"><!----></a><a name="d9458e8171"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_copy-directory"><span class="link">xtlc:copy-directory</span></a></code></td><td id="d9458e8175"><a name="d9458e8175"><!----></a><a name="d9458e8176"><!----></a>Copies a full directory structure.</td></tr><tr id="d9458e8178"><td id="d9458e8179"><a name="d9458e8179"><!----></a><a name="d9458e8180"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_copy-file"><span class="link">xtlc:copy-file</span></a></code></td><td id="d9458e8184"><a name="d9458e8184"><!----></a><a name="d9458e8185"><!----></a>Copies a file, if necessary from inside a zip file.</td></tr><tr id="d9458e8187"><td id="d9458e8188"><a name="d9458e8188"><!----></a><a name="d9458e8189"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_log"><span class="link">xtlc:log</span></a></code></td><td id="d9458e8193"><a name="d9458e8193"><!----></a><a name="d9458e8194"><!----></a>Writes a message to a log file.</td></tr><tr id="d9458e8196"><td id="d9458e8197"><a name="d9458e8197"><!----></a><a name="d9458e8198"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_recursive-directory-list"><span class="link">xtlc:recursive-directory-list</span></a></code></td><td id="d9458e8202"><a name="d9458e8202"><!----></a><a name="d9458e8203"><!----></a>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</td></tr><tr id="d9458e8211"><td id="d9458e8212"><a name="d9458e8212"><!----></a><a name="d9458e8213"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_remove-dir"><span class="link">xtlc:remove-dir</span></a></code></td><td id="d9458e8217"><a name="d9458e8217"><!----></a><a name="d9458e8218"><!----></a>Removes a full directory When the directory does not exist, everything continues without error.</td></tr><tr id="d9458e8220"><td id="d9458e8221"><a name="d9458e8221"><!----></a><a name="d9458e8222"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_tee"><span class="link">xtlc:tee</span></a></code></td><td id="d9458e8226"><a name="d9458e8226"><!----></a><a name="d9458e8227"><!----></a>Tees the input to a file and passes it unchanged (like the Unix tee command).</td></tr><tr id="d9458e8229"><td id="d9458e8230"><a name="d9458e8230"><!----></a><a name="d9458e8231"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_zip-directory"><span class="link">xtlc:zip-directory</span></a></code></td><td id="d9458e8235"><a name="d9458e8235"><!----></a><a name="d9458e8236"><!----></a>Zips a directory and its sub-directories into a single zip file.</td></tr></tbody></table></div><div class="sect2" id="common.mod.xpl-xtlc_copy-directory"><a name="common.mod.xpl-xtlc_copy-directory"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.1</span> Step: <code class="code">xtlc:copy-directory</code></h3><p class="para" id="d9458e8243"><a name="d9458e8243"><!----></a>Copies a full directory structure.</p><div class="table nonumber" id="d9458e8245"><a name="d9458e8245"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8252" class="thead-light"><tr id="d9458e8253"><th id="d9458e8254"><a name="d9458e8254"><!----></a>Port</th><th id="d9458e8256"><a name="d9458e8256"><!----></a>Type</th><th id="d9458e8258"><a name="d9458e8258"><!----></a>Primary?</th><th id="d9458e8260"><a name="d9458e8260"><!----></a>Description</th></tr></thead><tbody id="d9458e8262"><tr id="d9458e8263"><td id="d9458e8264"><a name="d9458e8264"><!----></a><a name="d9458e8265"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8268"><a name="d9458e8268"><!----></a>in</td><td id="d9458e8270"><a name="d9458e8270"><!----></a>yes</td><td id="d9458e8272"><a name="d9458e8272"><!----></a><a name="d9458e8273"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8275"><td id="d9458e8276"><a name="d9458e8276"><!----></a><a name="d9458e8277"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8280"><a name="d9458e8280"><!----></a>out</td><td id="d9458e8282"><a name="d9458e8282"><!----></a>yes</td><td id="d9458e8284"><a name="d9458e8284"><!----></a><a name="d9458e8285"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8287"><a name="d9458e8287"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8294" class="thead-light"><tr id="d9458e8295"><th id="d9458e8296"><a name="d9458e8296"><!----></a>Option</th><th id="d9458e8298"><a name="d9458e8298"><!----></a>Rq?</th><th id="d9458e8300"><a name="d9458e8300"><!----></a>Default</th><th id="d9458e8302"><a name="d9458e8302"><!----></a>Description</th></tr></thead><tbody id="d9458e8304"><tr id="d9458e8305"><td id="d9458e8306"><a name="d9458e8306"><!----></a><a name="d9458e8307"><!----></a><code class="code code-width-limited">href-source-dir</code></td><td id="d9458e8310"><a name="d9458e8310"><!----></a><a name="d9458e8311"><!----></a>yes</td><td id="d9458e8313"><a name="d9458e8313"><!----></a><a name="d9458e8314"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8316"><a name="d9458e8316"><!----></a><a name="d9458e8317"><!----></a>Reference to the directory to copy from (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8322"><td id="d9458e8323"><a name="d9458e8323"><!----></a><a name="d9458e8324"><!----></a><code class="code code-width-limited">href-target-dir</code></td><td id="d9458e8327"><a name="d9458e8327"><!----></a><a name="d9458e8328"><!----></a>yes</td><td id="d9458e8330"><a name="d9458e8330"><!----></a><a name="d9458e8331"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8333"><a name="d9458e8333"><!----></a><a name="d9458e8334"><!----></a>Reference to the directory to copy to (must have a leading <code class="code">file:/</code> specifier!). If it does not exist the step will try to create it.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_copy-file"><a name="common.mod.xpl-xtlc_copy-file"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.2</span> Step: <code class="code">xtlc:copy-file</code></h3><p class="para" id="d9458e8344"><a name="d9458e8344"><!----></a>Copies a file, if necessary from inside a zip file.</p><div class="table nonumber" id="d9458e8346"><a name="d9458e8346"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8353" class="thead-light"><tr id="d9458e8354"><th id="d9458e8355"><a name="d9458e8355"><!----></a>Port</th><th id="d9458e8357"><a name="d9458e8357"><!----></a>Type</th><th id="d9458e8359"><a name="d9458e8359"><!----></a>Primary?</th><th id="d9458e8361"><a name="d9458e8361"><!----></a>Description</th></tr></thead><tbody id="d9458e8363"><tr id="d9458e8364"><td id="d9458e8365"><a name="d9458e8365"><!----></a><a name="d9458e8366"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8369"><a name="d9458e8369"><!----></a>in</td><td id="d9458e8371"><a name="d9458e8371"><!----></a>yes</td><td id="d9458e8373"><a name="d9458e8373"><!----></a><a name="d9458e8374"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8376"><td id="d9458e8377"><a name="d9458e8377"><!----></a><a name="d9458e8378"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8381"><a name="d9458e8381"><!----></a>out</td><td id="d9458e8383"><a name="d9458e8383"><!----></a>yes</td><td id="d9458e8385"><a name="d9458e8385"><!----></a><a name="d9458e8386"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8388"><a name="d9458e8388"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8395" class="thead-light"><tr id="d9458e8396"><th id="d9458e8397"><a name="d9458e8397"><!----></a>Option</th><th id="d9458e8399"><a name="d9458e8399"><!----></a>Rq?</th><th id="d9458e8401"><a name="d9458e8401"><!----></a>Default</th><th id="d9458e8403"><a name="d9458e8403"><!----></a>Description</th></tr></thead><tbody id="d9458e8405"><tr id="d9458e8406"><td id="d9458e8407"><a name="d9458e8407"><!----></a><a name="d9458e8408"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8411"><a name="d9458e8411"><!----></a><a name="d9458e8412"><!----></a> </td><td id="d9458e8414"><a name="d9458e8414"><!----></a><a name="d9458e8415"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8418"><a name="d9458e8418"><!----></a><a name="d9458e8419"><!----></a>Whether the copying is done at all.</td></tr><tr id="d9458e8421"><td id="d9458e8422"><a name="d9458e8422"><!----></a><a name="d9458e8423"><!----></a><code class="code code-width-limited">href-source</code></td><td id="d9458e8426"><a name="d9458e8426"><!----></a><a name="d9458e8427"><!----></a>yes</td><td id="d9458e8429"><a name="d9458e8429"><!----></a><a name="d9458e8430"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8432"><a name="d9458e8432"><!----></a><a name="d9458e8433"><!----></a>Reference to the source file to copy (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8438"><td id="d9458e8439"><a name="d9458e8439"><!----></a><a name="d9458e8440"><!----></a><code class="code code-width-limited">href-source-zip</code></td><td id="d9458e8443"><a name="d9458e8443"><!----></a><a name="d9458e8444"><!----></a> </td><td id="d9458e8446"><a name="d9458e8446"><!----></a><a name="d9458e8447"><!----></a><code class="code code-width-limited">''</code></td><td id="d9458e8450"><a name="d9458e8450"><!----></a><a name="d9458e8451"><!----></a>Document reference to a zip file (must have a leading <code class="code">file:/</code> specifier!). When filled, <code class="code">$href-source</code> is assumed to be a path inside this zip.</td></tr><tr id="d9458e8459"><td id="d9458e8460"><a name="d9458e8460"><!----></a><a name="d9458e8461"><!----></a><code class="code code-width-limited">href-target</code></td><td id="d9458e8464"><a name="d9458e8464"><!----></a><a name="d9458e8465"><!----></a>yes</td><td id="d9458e8467"><a name="d9458e8467"><!----></a><a name="d9458e8468"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8470"><a name="d9458e8470"><!----></a><a name="d9458e8471"><!----></a>Reference to the target.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_log"><a name="common.mod.xpl-xtlc_log"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.3</span> Step: <code class="code">xtlc:log</code></h3><p class="para" id="d9458e8478"><a name="d9458e8478"><!----></a>Writes a message to a log file.</p><div class="table nonumber" id="d9458e8480"><a name="d9458e8480"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8487" class="thead-light"><tr id="d9458e8488"><th id="d9458e8489"><a name="d9458e8489"><!----></a>Port</th><th id="d9458e8491"><a name="d9458e8491"><!----></a>Type</th><th id="d9458e8493"><a name="d9458e8493"><!----></a>Primary?</th><th id="d9458e8495"><a name="d9458e8495"><!----></a>Description</th></tr></thead><tbody id="d9458e8497"><tr id="d9458e8498"><td id="d9458e8499"><a name="d9458e8499"><!----></a><a name="d9458e8500"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8503"><a name="d9458e8503"><!----></a>in</td><td id="d9458e8505"><a name="d9458e8505"><!----></a>yes</td><td id="d9458e8507"><a name="d9458e8507"><!----></a><a name="d9458e8508"><!----></a>Input to the logging, will be passed unchanged to the output</td></tr><tr id="d9458e8510"><td id="d9458e8511"><a name="d9458e8511"><!----></a><a name="d9458e8512"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8515"><a name="d9458e8515"><!----></a>out</td><td id="d9458e8517"><a name="d9458e8517"><!----></a>yes</td><td id="d9458e8519"><a name="d9458e8519"><!----></a><a name="d9458e8520"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8522"><a name="d9458e8522"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8529" class="thead-light"><tr id="d9458e8530"><th id="d9458e8531"><a name="d9458e8531"><!----></a>Option</th><th id="d9458e8533"><a name="d9458e8533"><!----></a>Rq?</th><th id="d9458e8535"><a name="d9458e8535"><!----></a>Default</th><th id="d9458e8537"><a name="d9458e8537"><!----></a>Description</th></tr></thead><tbody id="d9458e8539"><tr id="d9458e8540"><td id="d9458e8541"><a name="d9458e8541"><!----></a><a name="d9458e8542"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8545"><a name="d9458e8545"><!----></a><a name="d9458e8546"><!----></a> </td><td id="d9458e8548"><a name="d9458e8548"><!----></a><a name="d9458e8549"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8552"><a name="d9458e8552"><!----></a><a name="d9458e8553"><!----></a>Whether the logging will be done at all.</td></tr><tr id="d9458e8555"><td id="d9458e8556"><a name="d9458e8556"><!----></a><a name="d9458e8557"><!----></a><code class="code code-width-limited">href-log</code></td><td id="d9458e8560"><a name="d9458e8560"><!----></a><a name="d9458e8561"><!----></a>yes</td><td id="d9458e8563"><a name="d9458e8563"><!----></a><a name="d9458e8564"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8566"><a name="d9458e8566"><!----></a><a name="d9458e8567"><!----></a>Name of the file to write the log messages to (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8572"><td id="d9458e8573"><a name="d9458e8573"><!----></a><a name="d9458e8574"><!----></a><code class="code code-width-limited">keep-messages</code></td><td id="d9458e8577"><a name="d9458e8577"><!----></a><a name="d9458e8578"><!----></a> </td><td id="d9458e8580"><a name="d9458e8580"><!----></a><a name="d9458e8581"><!----></a><code class="code code-width-limited">100</code></td><td id="d9458e8584"><a name="d9458e8584"><!----></a><a name="d9458e8585"><!----></a>The number of messages to keep in the logfile. If le <code class="code">0</code>, all messages are kept. Set by default to <code class="code">100</code> to prevent overflowing files…</td></tr><tr id="d9458e8593"><td id="d9458e8594"><a name="d9458e8594"><!----></a><a name="d9458e8595"><!----></a><code class="code code-width-limited">message</code></td><td id="d9458e8598"><a name="d9458e8598"><!----></a><a name="d9458e8599"><!----></a>yes</td><td id="d9458e8601"><a name="d9458e8601"><!----></a><a name="d9458e8602"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8604"><a name="d9458e8604"><!----></a><a name="d9458e8605"><!----></a>The actual log message to write.</td></tr><tr id="d9458e8607"><td id="d9458e8608"><a name="d9458e8608"><!----></a><a name="d9458e8609"><!----></a><code class="code code-width-limited">status</code></td><td id="d9458e8612"><a name="d9458e8612"><!----></a><a name="d9458e8613"><!----></a> </td><td id="d9458e8615"><a name="d9458e8615"><!----></a><a name="d9458e8616"><!----></a><code class="code code-width-limited">'ok'</code></td><td id="d9458e8619"><a name="d9458e8619"><!----></a><a name="d9458e8620"><!----></a>Status of the message. Must be <code class="code">ok</code>, <code class="code">warning</code>, <code class="code">error</code> or <code class="code">debug</code>.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_recursive-directory-list"><a name="common.mod.xpl-xtlc_recursive-directory-list"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.4</span> Step: <code class="code">xtlc:recursive-directory-list</code></h3><p class="para" id="d9458e8639"><a name="d9458e8639"><!----></a>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</p><p class="para" id="d9458e8647"><a name="d9458e8647"><!----></a>Adapted from Norman Walsh's <a href="https://github.com/xquery/xquerydoc/blob/master/deps/xmlcalabash/recursive-directory-list.xpl"><span class="link">example code</span></a>.</p><div class="table nonumber" id="d9458e8652"><a name="d9458e8652"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8659" class="thead-light"><tr id="d9458e8660"><th id="d9458e8661"><a name="d9458e8661"><!----></a>Port</th><th id="d9458e8663"><a name="d9458e8663"><!----></a>Type</th><th id="d9458e8665"><a name="d9458e8665"><!----></a>Primary?</th><th id="d9458e8667"><a name="d9458e8667"><!----></a>Description</th></tr></thead><tbody id="d9458e8669"><tr id="d9458e8670"><td id="d9458e8671"><a name="d9458e8671"><!----></a><a name="d9458e8672"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8675"><a name="d9458e8675"><!----></a>out</td><td id="d9458e8677"><a name="d9458e8677"><!----></a>yes</td><td id="d9458e8679"><a name="d9458e8679"><!----></a><a name="d9458e8680"><!----></a>The resulting directory structure listing in XML format.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8682"><a name="d9458e8682"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8689" class="thead-light"><tr id="d9458e8690"><th id="d9458e8691"><a name="d9458e8691"><!----></a>Option</th><th id="d9458e8693"><a name="d9458e8693"><!----></a>Rq?</th><th id="d9458e8695"><a name="d9458e8695"><!----></a>Default</th><th id="d9458e8697"><a name="d9458e8697"><!----></a>Description</th></tr></thead><tbody id="d9458e8699"><tr id="d9458e8700"><td id="d9458e8701"><a name="d9458e8701"><!----></a><a name="d9458e8702"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e8705"><a name="d9458e8705"><!----></a><a name="d9458e8706"><!----></a> </td><td id="d9458e8708"><a name="d9458e8708"><!----></a><a name="d9458e8709"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e8712"><a name="d9458e8712"><!----></a><a name="d9458e8713"><!----></a>The sub-directory depth to go. When le <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e8718"><td id="d9458e8719"><a name="d9458e8719"><!----></a><a name="d9458e8720"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e8723"><a name="d9458e8723"><!----></a><a name="d9458e8724"><!----></a> </td><td id="d9458e8726"><a name="d9458e8726"><!----></a><a name="d9458e8727"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8729"><a name="d9458e8729"><!----></a><a name="d9458e8730"><!----></a>An optional regular expression exclude filter.</td></tr><tr id="d9458e8732"><td id="d9458e8733"><a name="d9458e8733"><!----></a><a name="d9458e8734"><!----></a><code class="code code-width-limited">flatten</code></td><td id="d9458e8737"><a name="d9458e8737"><!----></a><a name="d9458e8738"><!----></a> </td><td id="d9458e8740"><a name="d9458e8740"><!----></a><a name="d9458e8741"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e8744"><a name="d9458e8744"><!----></a><a name="d9458e8745"><!----></a>When <code class="code">true</code>, the list will be "flattened": All <code class="code">c:file</code> children will be direct children of the root's <code class="code">c:directory</code> element. These <code class="code">c:file</code> elements get a <code class="code">@name</code>, <code class="code">@href-abs</code> (absolute filename) and <code class="code">@href-rel</code> (relative filename) attribute.</td></tr><tr id="d9458e8769"><td id="d9458e8770"><a name="d9458e8770"><!----></a><a name="d9458e8771"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e8774"><a name="d9458e8774"><!----></a><a name="d9458e8775"><!----></a> </td><td id="d9458e8777"><a name="d9458e8777"><!----></a><a name="d9458e8778"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8780"><a name="d9458e8780"><!----></a><a name="d9458e8781"><!----></a>An optional regular expression include filter.</td></tr><tr id="d9458e8783"><td id="d9458e8784"><a name="d9458e8784"><!----></a><a name="d9458e8785"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e8788"><a name="d9458e8788"><!----></a><a name="d9458e8789"><!----></a>yes</td><td id="d9458e8791"><a name="d9458e8791"><!----></a><a name="d9458e8792"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8794"><a name="d9458e8794"><!----></a><a name="d9458e8795"><!----></a>The path to get the directory listing from.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_remove-dir"><a name="common.mod.xpl-xtlc_remove-dir"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.5</span> Step: <code class="code">xtlc:remove-dir</code></h3><p class="para" id="d9458e8802"><a name="d9458e8802"><!----></a>Removes a full directory When the directory does not exist, everything continues without error.</p><div class="table nonumber" id="d9458e8804"><a name="d9458e8804"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8811" class="thead-light"><tr id="d9458e8812"><th id="d9458e8813"><a name="d9458e8813"><!----></a>Port</th><th id="d9458e8815"><a name="d9458e8815"><!----></a>Type</th><th id="d9458e8817"><a name="d9458e8817"><!----></a>Primary?</th><th id="d9458e8819"><a name="d9458e8819"><!----></a>Description</th></tr></thead><tbody id="d9458e8821"><tr id="d9458e8822"><td id="d9458e8823"><a name="d9458e8823"><!----></a><a name="d9458e8824"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8827"><a name="d9458e8827"><!----></a>in</td><td id="d9458e8829"><a name="d9458e8829"><!----></a>yes</td><td id="d9458e8831"><a name="d9458e8831"><!----></a><a name="d9458e8832"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8834"><td id="d9458e8835"><a name="d9458e8835"><!----></a><a name="d9458e8836"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8839"><a name="d9458e8839"><!----></a>out</td><td id="d9458e8841"><a name="d9458e8841"><!----></a>yes</td><td id="d9458e8843"><a name="d9458e8843"><!----></a><a name="d9458e8844"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8846"><a name="d9458e8846"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8853" class="thead-light"><tr id="d9458e8854"><th id="d9458e8855"><a name="d9458e8855"><!----></a>Option</th><th id="d9458e8857"><a name="d9458e8857"><!----></a>Rq?</th><th id="d9458e8859"><a name="d9458e8859"><!----></a>Default</th><th id="d9458e8861"><a name="d9458e8861"><!----></a>Description</th></tr></thead><tbody id="d9458e8863"><tr id="d9458e8864"><td id="d9458e8865"><a name="d9458e8865"><!----></a><a name="d9458e8866"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8869"><a name="d9458e8869"><!----></a><a name="d9458e8870"><!----></a> </td><td id="d9458e8872"><a name="d9458e8872"><!----></a><a name="d9458e8873"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8876"><a name="d9458e8876"><!----></a><a name="d9458e8877"><!----></a>Whether the removal is done at all.</td></tr><tr id="d9458e8879"><td id="d9458e8880"><a name="d9458e8880"><!----></a><a name="d9458e8881"><!----></a><code class="code code-width-limited">href-dir</code></td><td id="d9458e8884"><a name="d9458e8884"><!----></a><a name="d9458e8885"><!----></a>yes</td><td id="d9458e8887"><a name="d9458e8887"><!----></a><a name="d9458e8888"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8890"><a name="d9458e8890"><!----></a><a name="d9458e8891"><!----></a>Reference to the directory to remove (must have a leading <code class="code">file:/</code> specifier!).</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_tee"><a name="common.mod.xpl-xtlc_tee"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.6</span> Step: <code class="code">xtlc:tee</code></h3><p class="para" id="d9458e8901"><a name="d9458e8901"><!----></a>Tees the input to a file and passes it unchanged (like the Unix tee command).</p><div class="table nonumber" id="d9458e8903"><a name="d9458e8903"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8910" class="thead-light"><tr id="d9458e8911"><th id="d9458e8912"><a name="d9458e8912"><!----></a>Port</th><th id="d9458e8914"><a name="d9458e8914"><!----></a>Type</th><th id="d9458e8916"><a name="d9458e8916"><!----></a>Primary?</th><th id="d9458e8918"><a name="d9458e8918"><!----></a>Description</th></tr></thead><tbody id="d9458e8920"><tr id="d9458e8921"><td id="d9458e8922"><a name="d9458e8922"><!----></a><a name="d9458e8923"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8926"><a name="d9458e8926"><!----></a>in</td><td id="d9458e8928"><a name="d9458e8928"><!----></a>yes</td><td id="d9458e8930"><a name="d9458e8930"><!----></a><a name="d9458e8931"><!----></a>Input to the tee.</td></tr><tr id="d9458e8933"><td id="d9458e8934"><a name="d9458e8934"><!----></a><a name="d9458e8935"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8938"><a name="d9458e8938"><!----></a>out</td><td id="d9458e8940"><a name="d9458e8940"><!----></a>yes</td><td id="d9458e8942"><a name="d9458e8942"><!----></a><a name="d9458e8943"><!----></a>The input unchanged (unless a <code class="code">$root-attribute-href</code> was specified).</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8948"><a name="d9458e8948"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8955" class="thead-light"><tr id="d9458e8956"><th id="d9458e8957"><a name="d9458e8957"><!----></a>Option</th><th id="d9458e8959"><a name="d9458e8959"><!----></a>Rq?</th><th id="d9458e8961"><a name="d9458e8961"><!----></a>Default</th><th id="d9458e8963"><a name="d9458e8963"><!----></a>Description</th></tr></thead><tbody id="d9458e8965"><tr id="d9458e8966"><td id="d9458e8967"><a name="d9458e8967"><!----></a><a name="d9458e8968"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8971"><a name="d9458e8971"><!----></a><a name="d9458e8972"><!----></a> </td><td id="d9458e8974"><a name="d9458e8974"><!----></a><a name="d9458e8975"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8978"><a name="d9458e8978"><!----></a><a name="d9458e8979"><!----></a>Whether to actually do the write. When <code class="code">false</code>, nothing happens.</td></tr><tr id="d9458e8984"><td id="d9458e8985"><a name="d9458e8985"><!----></a><a name="d9458e8986"><!----></a><code class="code code-width-limited">href</code></td><td id="d9458e8989"><a name="d9458e8989"><!----></a><a name="d9458e8990"><!----></a>yes</td><td id="d9458e8992"><a name="d9458e8992"><!----></a><a name="d9458e8993"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8995"><a name="d9458e8995"><!----></a><a name="d9458e8996"><!----></a>Name of the file to write to (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9001"><td id="d9458e9002"><a name="d9458e9002"><!----></a><a name="d9458e9003"><!----></a><code class="code code-width-limited">indent</code></td><td id="d9458e9006"><a name="d9458e9006"><!----></a><a name="d9458e9007"><!----></a> </td><td id="d9458e9009"><a name="d9458e9009"><!----></a><a name="d9458e9010"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9013"><a name="d9458e9013"><!----></a><a name="d9458e9014"><!----></a>Whether or not to indent the tee-d output.</td></tr><tr id="d9458e9016"><td id="d9458e9017"><a name="d9458e9017"><!----></a><a name="d9458e9018"><!----></a><code class="code code-width-limited">root-attribute-href</code></td><td id="d9458e9021"><a name="d9458e9021"><!----></a><a name="d9458e9022"><!----></a> </td><td id="d9458e9024"><a name="d9458e9024"><!----></a><a name="d9458e9025"><!----></a><code class="code code-width-limited">''</code></td><td id="d9458e9028"><a name="d9458e9028"><!----></a><a name="d9458e9029"><!----></a>If filled, <code class="code">$href</code> is recorded as an attribute with this name on the root element of the original input. Must be a valid attribute name.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_zip-directory"><a name="common.mod.xpl-xtlc_zip-directory"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.7</span> Step: <code class="code">xtlc:zip-directory</code></h3><p class="para" id="d9458e9040"><a name="d9458e9040"><!----></a>Zips a directory and its sub-directories into a single zip file.</p><div class="table nonumber" id="d9458e9042"><a name="d9458e9042"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9049" class="thead-light"><tr id="d9458e9050"><th id="d9458e9051"><a name="d9458e9051"><!----></a>Port</th><th id="d9458e9053"><a name="d9458e9053"><!----></a>Type</th><th id="d9458e9055"><a name="d9458e9055"><!----></a>Primary?</th><th id="d9458e9057"><a name="d9458e9057"><!----></a>Description</th></tr></thead><tbody id="d9458e9059"><tr id="d9458e9060"><td id="d9458e9061"><a name="d9458e9061"><!----></a><a name="d9458e9062"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e9065"><a name="d9458e9065"><!----></a>out</td><td id="d9458e9067"><a name="d9458e9067"><!----></a>yes</td><td id="d9458e9069"><a name="d9458e9069"><!----></a><a name="d9458e9070"><!----></a>The output of the actual zip step, listing all the files that went in.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e9072"><a name="d9458e9072"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9079" class="thead-light"><tr id="d9458e9080"><th id="d9458e9081"><a name="d9458e9081"><!----></a>Option</th><th id="d9458e9083"><a name="d9458e9083"><!----></a>Rq?</th><th id="d9458e9085"><a name="d9458e9085"><!----></a>Default</th><th id="d9458e9087"><a name="d9458e9087"><!----></a>Description</th></tr></thead><tbody id="d9458e9089"><tr id="d9458e9090"><td id="d9458e9091"><a name="d9458e9091"><!----></a><a name="d9458e9092"><!----></a><code class="code code-width-limited">base-path</code></td><td id="d9458e9095"><a name="d9458e9095"><!----></a><a name="d9458e9096"><!----></a>yes</td><td id="d9458e9098"><a name="d9458e9098"><!----></a><a name="d9458e9099"><!----></a><code class="code code-width-limited"/></td><td id="d9458e9101"><a name="d9458e9101"><!----></a><a name="d9458e9102"><!----></a>Directory which contents will be stored in the zip (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9107"><td id="d9458e9108"><a name="d9458e9108"><!----></a><a name="d9458e9109"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d9458e9112"><a name="d9458e9112"><!----></a><a name="d9458e9113"><!----></a>yes</td><td id="d9458e9115"><a name="d9458e9115"><!----></a><a name="d9458e9116"><!----></a><code class="code code-width-limited"/></td><td id="d9458e9118"><a name="d9458e9118"><!----></a><a name="d9458e9119"><!----></a>Document reference for the zip file to produce (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9124"><td id="d9458e9125"><a name="d9458e9125"><!----></a><a name="d9458e9126"><!----></a><code class="code code-width-limited">include-base</code></td><td id="d9458e9129"><a name="d9458e9129"><!----></a><a name="d9458e9130"><!----></a> </td><td id="d9458e9132"><a name="d9458e9132"><!----></a><a name="d9458e9133"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9136"><a name="d9458e9136"><!----></a><a name="d9458e9137"><!----></a>When true, the last part of <code class="code">$base-path</code> (e.g. <code class="code">a/b/c</code> ==&gt; <code class="code">c</code>) is used as the root directory in the zip file.</td></tr></tbody></table></div></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>