<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>4 XProc 1.0 Support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e200">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8007">oXygen XProc 3.0 support (oXygen versions &lt; 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-libraries"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">4 </span>XProc 1.0 Support</h1></div><p class="para" id="d9458e8098"><a name="d9458e8098"><!----></a>The xtpxlib-common component contains the following XProc 1.0 library module:</p><p class="para" id="d9458e8101"><a name="d9458e8101"><!----></a><b>WARNING</b>: XProc 1.0 support is considered deprecated and will be removed in the near future!</p><div class="table" id="d9458e8106"><a name="d9458e8106"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8112" class="thead-light"><tr id="d9458e8113"><th id="d9458e8114"><a name="d9458e8114"><!----></a>Module/Pipeline</th><th id="d9458e8116"><a name="d9458e8116"><!----></a>Description</th></tr></thead><tbody id="d9458e8118"><tr id="d9458e8119"><td id="d9458e8120"><a name="d9458e8120"><!----></a><a name="d9458e8121"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl"><span class="link">common.mod.xpl</span></a></code></td><td id="d9458e8125"><a name="d9458e8125"><!----></a><a name="d9458e8126"><!----></a>XProc (1.0) library with generic steps.</td></tr></tbody></table></div><div class="sect1" id="common.mod.xpl"><a name="common.mod.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">4.1</span> XProc (1.0) library: <code class="code">common.mod.xpl</code></h2><p class="para keep-with-next" id="d9458e8133"><a name="d9458e8133"><!----></a>File: <code class="code">xplmod/common.mod/common.mod.xpl</code></p><p class="para" id="d9458e8137"><a name="d9458e8137"><!----></a>XProc (1.0) library with generic steps.</p><div class="table nonumber" id="d9458e8139"><a name="d9458e8139"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8144" class="thead-light"><tr id="d9458e8145"><th id="d9458e8146"><a name="d9458e8146"><!----></a>Prefix</th><th id="d9458e8148"><a name="d9458e8148"><!----></a>Namespace URI</th></tr></thead><tbody id="d9458e8150"><tr id="d9458e8151"><td id="d9458e8152"><a name="d9458e8152"><!----></a><a name="d9458e8153"><!----></a><code class="code code-width-limited">xtlc</code></td><td id="d9458e8156"><a name="d9458e8156"><!----></a><a name="d9458e8157"><!----></a><code class="code">http://www.xtpxlib.nl/ns/common</code></td></tr></tbody></table></div><div class="table nonumber" id="d9458e8160"><a name="d9458e8160"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8165" class="thead-light"><tr id="d9458e8166"><th id="d9458e8167"><a name="d9458e8167"><!----></a>Step</th><th id="d9458e8169"><a name="d9458e8169"><!----></a>Description</th></tr></thead><tbody id="d9458e8171"><tr id="d9458e8172"><td id="d9458e8173"><a name="d9458e8173"><!----></a><a name="d9458e8174"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_copy-directory"><span class="link">xtlc:copy-directory</span></a></code></td><td id="d9458e8178"><a name="d9458e8178"><!----></a><a name="d9458e8179"><!----></a>Copies a full directory structure.</td></tr><tr id="d9458e8181"><td id="d9458e8182"><a name="d9458e8182"><!----></a><a name="d9458e8183"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_copy-file"><span class="link">xtlc:copy-file</span></a></code></td><td id="d9458e8187"><a name="d9458e8187"><!----></a><a name="d9458e8188"><!----></a>Copies a file, if necessary from inside a zip file.</td></tr><tr id="d9458e8190"><td id="d9458e8191"><a name="d9458e8191"><!----></a><a name="d9458e8192"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_log"><span class="link">xtlc:log</span></a></code></td><td id="d9458e8196"><a name="d9458e8196"><!----></a><a name="d9458e8197"><!----></a>Writes a message to a log file.</td></tr><tr id="d9458e8199"><td id="d9458e8200"><a name="d9458e8200"><!----></a><a name="d9458e8201"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_recursive-directory-list"><span class="link">xtlc:recursive-directory-list</span></a></code></td><td id="d9458e8205"><a name="d9458e8205"><!----></a><a name="d9458e8206"><!----></a>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</td></tr><tr id="d9458e8214"><td id="d9458e8215"><a name="d9458e8215"><!----></a><a name="d9458e8216"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_remove-dir"><span class="link">xtlc:remove-dir</span></a></code></td><td id="d9458e8220"><a name="d9458e8220"><!----></a><a name="d9458e8221"><!----></a>Removes a full directory When the directory does not exist, everything continues without error.</td></tr><tr id="d9458e8223"><td id="d9458e8224"><a name="d9458e8224"><!----></a><a name="d9458e8225"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_tee"><span class="link">xtlc:tee</span></a></code></td><td id="d9458e8229"><a name="d9458e8229"><!----></a><a name="d9458e8230"><!----></a>Tees the input to a file and passes it unchanged (like the Unix tee command).</td></tr><tr id="d9458e8232"><td id="d9458e8233"><a name="d9458e8233"><!----></a><a name="d9458e8234"><!----></a><code class="code code-width-limited"><a href="#common.mod.xpl-xtlc_zip-directory"><span class="link">xtlc:zip-directory</span></a></code></td><td id="d9458e8238"><a name="d9458e8238"><!----></a><a name="d9458e8239"><!----></a>Zips a directory and its sub-directories into a single zip file.</td></tr></tbody></table></div><div class="sect2" id="common.mod.xpl-xtlc_copy-directory"><a name="common.mod.xpl-xtlc_copy-directory"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.1</span> Step: <code class="code">xtlc:copy-directory</code></h3><p class="para" id="d9458e8246"><a name="d9458e8246"><!----></a>Copies a full directory structure.</p><div class="table nonumber" id="d9458e8248"><a name="d9458e8248"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8255" class="thead-light"><tr id="d9458e8256"><th id="d9458e8257"><a name="d9458e8257"><!----></a>Port</th><th id="d9458e8259"><a name="d9458e8259"><!----></a>Type</th><th id="d9458e8261"><a name="d9458e8261"><!----></a>Primary?</th><th id="d9458e8263"><a name="d9458e8263"><!----></a>Description</th></tr></thead><tbody id="d9458e8265"><tr id="d9458e8266"><td id="d9458e8267"><a name="d9458e8267"><!----></a><a name="d9458e8268"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8271"><a name="d9458e8271"><!----></a>in</td><td id="d9458e8273"><a name="d9458e8273"><!----></a>yes</td><td id="d9458e8275"><a name="d9458e8275"><!----></a><a name="d9458e8276"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8278"><td id="d9458e8279"><a name="d9458e8279"><!----></a><a name="d9458e8280"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8283"><a name="d9458e8283"><!----></a>out</td><td id="d9458e8285"><a name="d9458e8285"><!----></a>yes</td><td id="d9458e8287"><a name="d9458e8287"><!----></a><a name="d9458e8288"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8290"><a name="d9458e8290"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8297" class="thead-light"><tr id="d9458e8298"><th id="d9458e8299"><a name="d9458e8299"><!----></a>Option</th><th id="d9458e8301"><a name="d9458e8301"><!----></a>Rq?</th><th id="d9458e8303"><a name="d9458e8303"><!----></a>Default</th><th id="d9458e8305"><a name="d9458e8305"><!----></a>Description</th></tr></thead><tbody id="d9458e8307"><tr id="d9458e8308"><td id="d9458e8309"><a name="d9458e8309"><!----></a><a name="d9458e8310"><!----></a><code class="code code-width-limited">href-source-dir</code></td><td id="d9458e8313"><a name="d9458e8313"><!----></a><a name="d9458e8314"><!----></a>yes</td><td id="d9458e8316"><a name="d9458e8316"><!----></a><a name="d9458e8317"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8319"><a name="d9458e8319"><!----></a><a name="d9458e8320"><!----></a>Reference to the directory to copy from (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8325"><td id="d9458e8326"><a name="d9458e8326"><!----></a><a name="d9458e8327"><!----></a><code class="code code-width-limited">href-target-dir</code></td><td id="d9458e8330"><a name="d9458e8330"><!----></a><a name="d9458e8331"><!----></a>yes</td><td id="d9458e8333"><a name="d9458e8333"><!----></a><a name="d9458e8334"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8336"><a name="d9458e8336"><!----></a><a name="d9458e8337"><!----></a>Reference to the directory to copy to (must have a leading <code class="code">file:/</code> specifier!). If it does not exist the step will try to create it.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_copy-file"><a name="common.mod.xpl-xtlc_copy-file"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.2</span> Step: <code class="code">xtlc:copy-file</code></h3><p class="para" id="d9458e8347"><a name="d9458e8347"><!----></a>Copies a file, if necessary from inside a zip file.</p><div class="table nonumber" id="d9458e8349"><a name="d9458e8349"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8356" class="thead-light"><tr id="d9458e8357"><th id="d9458e8358"><a name="d9458e8358"><!----></a>Port</th><th id="d9458e8360"><a name="d9458e8360"><!----></a>Type</th><th id="d9458e8362"><a name="d9458e8362"><!----></a>Primary?</th><th id="d9458e8364"><a name="d9458e8364"><!----></a>Description</th></tr></thead><tbody id="d9458e8366"><tr id="d9458e8367"><td id="d9458e8368"><a name="d9458e8368"><!----></a><a name="d9458e8369"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8372"><a name="d9458e8372"><!----></a>in</td><td id="d9458e8374"><a name="d9458e8374"><!----></a>yes</td><td id="d9458e8376"><a name="d9458e8376"><!----></a><a name="d9458e8377"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8379"><td id="d9458e8380"><a name="d9458e8380"><!----></a><a name="d9458e8381"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8384"><a name="d9458e8384"><!----></a>out</td><td id="d9458e8386"><a name="d9458e8386"><!----></a>yes</td><td id="d9458e8388"><a name="d9458e8388"><!----></a><a name="d9458e8389"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8391"><a name="d9458e8391"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8398" class="thead-light"><tr id="d9458e8399"><th id="d9458e8400"><a name="d9458e8400"><!----></a>Option</th><th id="d9458e8402"><a name="d9458e8402"><!----></a>Rq?</th><th id="d9458e8404"><a name="d9458e8404"><!----></a>Default</th><th id="d9458e8406"><a name="d9458e8406"><!----></a>Description</th></tr></thead><tbody id="d9458e8408"><tr id="d9458e8409"><td id="d9458e8410"><a name="d9458e8410"><!----></a><a name="d9458e8411"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8414"><a name="d9458e8414"><!----></a><a name="d9458e8415"><!----></a> </td><td id="d9458e8417"><a name="d9458e8417"><!----></a><a name="d9458e8418"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8421"><a name="d9458e8421"><!----></a><a name="d9458e8422"><!----></a>Whether the copying is done at all.</td></tr><tr id="d9458e8424"><td id="d9458e8425"><a name="d9458e8425"><!----></a><a name="d9458e8426"><!----></a><code class="code code-width-limited">href-source</code></td><td id="d9458e8429"><a name="d9458e8429"><!----></a><a name="d9458e8430"><!----></a>yes</td><td id="d9458e8432"><a name="d9458e8432"><!----></a><a name="d9458e8433"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8435"><a name="d9458e8435"><!----></a><a name="d9458e8436"><!----></a>Reference to the source file to copy (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8441"><td id="d9458e8442"><a name="d9458e8442"><!----></a><a name="d9458e8443"><!----></a><code class="code code-width-limited">href-source-zip</code></td><td id="d9458e8446"><a name="d9458e8446"><!----></a><a name="d9458e8447"><!----></a> </td><td id="d9458e8449"><a name="d9458e8449"><!----></a><a name="d9458e8450"><!----></a><code class="code code-width-limited">''</code></td><td id="d9458e8453"><a name="d9458e8453"><!----></a><a name="d9458e8454"><!----></a>Document reference to a zip file (must have a leading <code class="code">file:/</code> specifier!). When filled, <code class="code">$href-source</code> is assumed to be a path inside this zip.</td></tr><tr id="d9458e8462"><td id="d9458e8463"><a name="d9458e8463"><!----></a><a name="d9458e8464"><!----></a><code class="code code-width-limited">href-target</code></td><td id="d9458e8467"><a name="d9458e8467"><!----></a><a name="d9458e8468"><!----></a>yes</td><td id="d9458e8470"><a name="d9458e8470"><!----></a><a name="d9458e8471"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8473"><a name="d9458e8473"><!----></a><a name="d9458e8474"><!----></a>Reference to the target.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_log"><a name="common.mod.xpl-xtlc_log"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.3</span> Step: <code class="code">xtlc:log</code></h3><p class="para" id="d9458e8481"><a name="d9458e8481"><!----></a>Writes a message to a log file.</p><div class="table nonumber" id="d9458e8483"><a name="d9458e8483"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8490" class="thead-light"><tr id="d9458e8491"><th id="d9458e8492"><a name="d9458e8492"><!----></a>Port</th><th id="d9458e8494"><a name="d9458e8494"><!----></a>Type</th><th id="d9458e8496"><a name="d9458e8496"><!----></a>Primary?</th><th id="d9458e8498"><a name="d9458e8498"><!----></a>Description</th></tr></thead><tbody id="d9458e8500"><tr id="d9458e8501"><td id="d9458e8502"><a name="d9458e8502"><!----></a><a name="d9458e8503"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8506"><a name="d9458e8506"><!----></a>in</td><td id="d9458e8508"><a name="d9458e8508"><!----></a>yes</td><td id="d9458e8510"><a name="d9458e8510"><!----></a><a name="d9458e8511"><!----></a>Input to the logging, will be passed unchanged to the output</td></tr><tr id="d9458e8513"><td id="d9458e8514"><a name="d9458e8514"><!----></a><a name="d9458e8515"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8518"><a name="d9458e8518"><!----></a>out</td><td id="d9458e8520"><a name="d9458e8520"><!----></a>yes</td><td id="d9458e8522"><a name="d9458e8522"><!----></a><a name="d9458e8523"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8525"><a name="d9458e8525"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8532" class="thead-light"><tr id="d9458e8533"><th id="d9458e8534"><a name="d9458e8534"><!----></a>Option</th><th id="d9458e8536"><a name="d9458e8536"><!----></a>Rq?</th><th id="d9458e8538"><a name="d9458e8538"><!----></a>Default</th><th id="d9458e8540"><a name="d9458e8540"><!----></a>Description</th></tr></thead><tbody id="d9458e8542"><tr id="d9458e8543"><td id="d9458e8544"><a name="d9458e8544"><!----></a><a name="d9458e8545"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8548"><a name="d9458e8548"><!----></a><a name="d9458e8549"><!----></a> </td><td id="d9458e8551"><a name="d9458e8551"><!----></a><a name="d9458e8552"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8555"><a name="d9458e8555"><!----></a><a name="d9458e8556"><!----></a>Whether the logging will be done at all.</td></tr><tr id="d9458e8558"><td id="d9458e8559"><a name="d9458e8559"><!----></a><a name="d9458e8560"><!----></a><code class="code code-width-limited">href-log</code></td><td id="d9458e8563"><a name="d9458e8563"><!----></a><a name="d9458e8564"><!----></a>yes</td><td id="d9458e8566"><a name="d9458e8566"><!----></a><a name="d9458e8567"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8569"><a name="d9458e8569"><!----></a><a name="d9458e8570"><!----></a>Name of the file to write the log messages to (must have a leading <code class="code">file:/</code> specifier!).</td></tr><tr id="d9458e8575"><td id="d9458e8576"><a name="d9458e8576"><!----></a><a name="d9458e8577"><!----></a><code class="code code-width-limited">keep-messages</code></td><td id="d9458e8580"><a name="d9458e8580"><!----></a><a name="d9458e8581"><!----></a> </td><td id="d9458e8583"><a name="d9458e8583"><!----></a><a name="d9458e8584"><!----></a><code class="code code-width-limited">100</code></td><td id="d9458e8587"><a name="d9458e8587"><!----></a><a name="d9458e8588"><!----></a>The number of messages to keep in the logfile. If le <code class="code">0</code>, all messages are kept. Set by default to <code class="code">100</code> to prevent overflowing files…</td></tr><tr id="d9458e8596"><td id="d9458e8597"><a name="d9458e8597"><!----></a><a name="d9458e8598"><!----></a><code class="code code-width-limited">message</code></td><td id="d9458e8601"><a name="d9458e8601"><!----></a><a name="d9458e8602"><!----></a>yes</td><td id="d9458e8604"><a name="d9458e8604"><!----></a><a name="d9458e8605"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8607"><a name="d9458e8607"><!----></a><a name="d9458e8608"><!----></a>The actual log message to write.</td></tr><tr id="d9458e8610"><td id="d9458e8611"><a name="d9458e8611"><!----></a><a name="d9458e8612"><!----></a><code class="code code-width-limited">status</code></td><td id="d9458e8615"><a name="d9458e8615"><!----></a><a name="d9458e8616"><!----></a> </td><td id="d9458e8618"><a name="d9458e8618"><!----></a><a name="d9458e8619"><!----></a><code class="code code-width-limited">'ok'</code></td><td id="d9458e8622"><a name="d9458e8622"><!----></a><a name="d9458e8623"><!----></a>Status of the message. Must be <code class="code">ok</code>, <code class="code">warning</code>, <code class="code">error</code> or <code class="code">debug</code>.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_recursive-directory-list"><a name="common.mod.xpl-xtlc_recursive-directory-list"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.4</span> Step: <code class="code">xtlc:recursive-directory-list</code></h3><p class="para" id="d9458e8642"><a name="d9458e8642"><!----></a>Returns the contents of a directory, going into sub-directories recursively. When the requested directory does not exist, it returns only a <code class="code">c:directory</code> root element with an <code class="code">error="true"</code> attribute.</p><p class="para" id="d9458e8650"><a name="d9458e8650"><!----></a>Adapted from Norman Walsh's <a href="https://github.com/xquery/xquerydoc/blob/master/deps/xmlcalabash/recursive-directory-list.xpl"><span class="link">example code</span></a>.</p><div class="table nonumber" id="d9458e8655"><a name="d9458e8655"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8662" class="thead-light"><tr id="d9458e8663"><th id="d9458e8664"><a name="d9458e8664"><!----></a>Port</th><th id="d9458e8666"><a name="d9458e8666"><!----></a>Type</th><th id="d9458e8668"><a name="d9458e8668"><!----></a>Primary?</th><th id="d9458e8670"><a name="d9458e8670"><!----></a>Description</th></tr></thead><tbody id="d9458e8672"><tr id="d9458e8673"><td id="d9458e8674"><a name="d9458e8674"><!----></a><a name="d9458e8675"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8678"><a name="d9458e8678"><!----></a>out</td><td id="d9458e8680"><a name="d9458e8680"><!----></a>yes</td><td id="d9458e8682"><a name="d9458e8682"><!----></a><a name="d9458e8683"><!----></a>The resulting directory structure listing in XML format.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8685"><a name="d9458e8685"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8692" class="thead-light"><tr id="d9458e8693"><th id="d9458e8694"><a name="d9458e8694"><!----></a>Option</th><th id="d9458e8696"><a name="d9458e8696"><!----></a>Rq?</th><th id="d9458e8698"><a name="d9458e8698"><!----></a>Default</th><th id="d9458e8700"><a name="d9458e8700"><!----></a>Description</th></tr></thead><tbody id="d9458e8702"><tr id="d9458e8703"><td id="d9458e8704"><a name="d9458e8704"><!----></a><a name="d9458e8705"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e8708"><a name="d9458e8708"><!----></a><a name="d9458e8709"><!----></a> </td><td id="d9458e8711"><a name="d9458e8711"><!----></a><a name="d9458e8712"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e8715"><a name="d9458e8715"><!----></a><a name="d9458e8716"><!----></a>The sub-directory depth to go. When le <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e8721"><td id="d9458e8722"><a name="d9458e8722"><!----></a><a name="d9458e8723"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e8726"><a name="d9458e8726"><!----></a><a name="d9458e8727"><!----></a> </td><td id="d9458e8729"><a name="d9458e8729"><!----></a><a name="d9458e8730"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8732"><a name="d9458e8732"><!----></a><a name="d9458e8733"><!----></a>An optional regular expression exclude filter.</td></tr><tr id="d9458e8735"><td id="d9458e8736"><a name="d9458e8736"><!----></a><a name="d9458e8737"><!----></a><code class="code code-width-limited">flatten</code></td><td id="d9458e8740"><a name="d9458e8740"><!----></a><a name="d9458e8741"><!----></a> </td><td id="d9458e8743"><a name="d9458e8743"><!----></a><a name="d9458e8744"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e8747"><a name="d9458e8747"><!----></a><a name="d9458e8748"><!----></a>When <code class="code">true</code>, the list will be "flattened": All <code class="code">c:file</code> children will be direct children of the root's <code class="code">c:directory</code> element. These <code class="code">c:file</code> elements get a <code class="code">@name</code>, <code class="code">@href-abs</code> (absolute filename) and <code class="code">@href-rel</code> (relative filename) attribute.</td></tr><tr id="d9458e8772"><td id="d9458e8773"><a name="d9458e8773"><!----></a><a name="d9458e8774"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e8777"><a name="d9458e8777"><!----></a><a name="d9458e8778"><!----></a> </td><td id="d9458e8780"><a name="d9458e8780"><!----></a><a name="d9458e8781"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8783"><a name="d9458e8783"><!----></a><a name="d9458e8784"><!----></a>An optional regular expression include filter.</td></tr><tr id="d9458e8786"><td id="d9458e8787"><a name="d9458e8787"><!----></a><a name="d9458e8788"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e8791"><a name="d9458e8791"><!----></a><a name="d9458e8792"><!----></a>yes</td><td id="d9458e8794"><a name="d9458e8794"><!----></a><a name="d9458e8795"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8797"><a name="d9458e8797"><!----></a><a name="d9458e8798"><!----></a>The path to get the directory listing from.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_remove-dir"><a name="common.mod.xpl-xtlc_remove-dir"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.5</span> Step: <code class="code">xtlc:remove-dir</code></h3><p class="para" id="d9458e8805"><a name="d9458e8805"><!----></a>Removes a full directory When the directory does not exist, everything continues without error.</p><div class="table nonumber" id="d9458e8807"><a name="d9458e8807"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8814" class="thead-light"><tr id="d9458e8815"><th id="d9458e8816"><a name="d9458e8816"><!----></a>Port</th><th id="d9458e8818"><a name="d9458e8818"><!----></a>Type</th><th id="d9458e8820"><a name="d9458e8820"><!----></a>Primary?</th><th id="d9458e8822"><a name="d9458e8822"><!----></a>Description</th></tr></thead><tbody id="d9458e8824"><tr id="d9458e8825"><td id="d9458e8826"><a name="d9458e8826"><!----></a><a name="d9458e8827"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8830"><a name="d9458e8830"><!----></a>in</td><td id="d9458e8832"><a name="d9458e8832"><!----></a>yes</td><td id="d9458e8834"><a name="d9458e8834"><!----></a><a name="d9458e8835"><!----></a>Input, will be passed unchanged.</td></tr><tr id="d9458e8837"><td id="d9458e8838"><a name="d9458e8838"><!----></a><a name="d9458e8839"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8842"><a name="d9458e8842"><!----></a>out</td><td id="d9458e8844"><a name="d9458e8844"><!----></a>yes</td><td id="d9458e8846"><a name="d9458e8846"><!----></a><a name="d9458e8847"><!----></a>The input unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8849"><a name="d9458e8849"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8856" class="thead-light"><tr id="d9458e8857"><th id="d9458e8858"><a name="d9458e8858"><!----></a>Option</th><th id="d9458e8860"><a name="d9458e8860"><!----></a>Rq?</th><th id="d9458e8862"><a name="d9458e8862"><!----></a>Default</th><th id="d9458e8864"><a name="d9458e8864"><!----></a>Description</th></tr></thead><tbody id="d9458e8866"><tr id="d9458e8867"><td id="d9458e8868"><a name="d9458e8868"><!----></a><a name="d9458e8869"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8872"><a name="d9458e8872"><!----></a><a name="d9458e8873"><!----></a> </td><td id="d9458e8875"><a name="d9458e8875"><!----></a><a name="d9458e8876"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8879"><a name="d9458e8879"><!----></a><a name="d9458e8880"><!----></a>Whether the removal is done at all.</td></tr><tr id="d9458e8882"><td id="d9458e8883"><a name="d9458e8883"><!----></a><a name="d9458e8884"><!----></a><code class="code code-width-limited">href-dir</code></td><td id="d9458e8887"><a name="d9458e8887"><!----></a><a name="d9458e8888"><!----></a>yes</td><td id="d9458e8890"><a name="d9458e8890"><!----></a><a name="d9458e8891"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8893"><a name="d9458e8893"><!----></a><a name="d9458e8894"><!----></a>Reference to the directory to remove (must have a leading <code class="code">file:/</code> specifier!).</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_tee"><a name="common.mod.xpl-xtlc_tee"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.6</span> Step: <code class="code">xtlc:tee</code></h3><p class="para" id="d9458e8904"><a name="d9458e8904"><!----></a>Tees the input to a file and passes it unchanged (like the Unix tee command).</p><div class="table nonumber" id="d9458e8906"><a name="d9458e8906"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8913" class="thead-light"><tr id="d9458e8914"><th id="d9458e8915"><a name="d9458e8915"><!----></a>Port</th><th id="d9458e8917"><a name="d9458e8917"><!----></a>Type</th><th id="d9458e8919"><a name="d9458e8919"><!----></a>Primary?</th><th id="d9458e8921"><a name="d9458e8921"><!----></a>Description</th></tr></thead><tbody id="d9458e8923"><tr id="d9458e8924"><td id="d9458e8925"><a name="d9458e8925"><!----></a><a name="d9458e8926"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e8929"><a name="d9458e8929"><!----></a>in</td><td id="d9458e8931"><a name="d9458e8931"><!----></a>yes</td><td id="d9458e8933"><a name="d9458e8933"><!----></a><a name="d9458e8934"><!----></a>Input to the tee.</td></tr><tr id="d9458e8936"><td id="d9458e8937"><a name="d9458e8937"><!----></a><a name="d9458e8938"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e8941"><a name="d9458e8941"><!----></a>out</td><td id="d9458e8943"><a name="d9458e8943"><!----></a>yes</td><td id="d9458e8945"><a name="d9458e8945"><!----></a><a name="d9458e8946"><!----></a>The input unchanged (unless a <code class="code">$root-attribute-href</code> was specified).</td></tr></tbody></table></div><div class="table nonumber" id="d9458e8951"><a name="d9458e8951"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e8958" class="thead-light"><tr id="d9458e8959"><th id="d9458e8960"><a name="d9458e8960"><!----></a>Option</th><th id="d9458e8962"><a name="d9458e8962"><!----></a>Rq?</th><th id="d9458e8964"><a name="d9458e8964"><!----></a>Default</th><th id="d9458e8966"><a name="d9458e8966"><!----></a>Description</th></tr></thead><tbody id="d9458e8968"><tr id="d9458e8969"><td id="d9458e8970"><a name="d9458e8970"><!----></a><a name="d9458e8971"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e8974"><a name="d9458e8974"><!----></a><a name="d9458e8975"><!----></a> </td><td id="d9458e8977"><a name="d9458e8977"><!----></a><a name="d9458e8978"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e8981"><a name="d9458e8981"><!----></a><a name="d9458e8982"><!----></a>Whether to actually do the write. When <code class="code">false</code>, nothing happens.</td></tr><tr id="d9458e8987"><td id="d9458e8988"><a name="d9458e8988"><!----></a><a name="d9458e8989"><!----></a><code class="code code-width-limited">href</code></td><td id="d9458e8992"><a name="d9458e8992"><!----></a><a name="d9458e8993"><!----></a>yes</td><td id="d9458e8995"><a name="d9458e8995"><!----></a><a name="d9458e8996"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8998"><a name="d9458e8998"><!----></a><a name="d9458e8999"><!----></a>Name of the file to write to (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9004"><td id="d9458e9005"><a name="d9458e9005"><!----></a><a name="d9458e9006"><!----></a><code class="code code-width-limited">indent</code></td><td id="d9458e9009"><a name="d9458e9009"><!----></a><a name="d9458e9010"><!----></a> </td><td id="d9458e9012"><a name="d9458e9012"><!----></a><a name="d9458e9013"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9016"><a name="d9458e9016"><!----></a><a name="d9458e9017"><!----></a>Whether or not to indent the tee-d output.</td></tr><tr id="d9458e9019"><td id="d9458e9020"><a name="d9458e9020"><!----></a><a name="d9458e9021"><!----></a><code class="code code-width-limited">root-attribute-href</code></td><td id="d9458e9024"><a name="d9458e9024"><!----></a><a name="d9458e9025"><!----></a> </td><td id="d9458e9027"><a name="d9458e9027"><!----></a><a name="d9458e9028"><!----></a><code class="code code-width-limited">''</code></td><td id="d9458e9031"><a name="d9458e9031"><!----></a><a name="d9458e9032"><!----></a>If filled, <code class="code">$href</code> is recorded as an attribute with this name on the root element of the original input. Must be a valid attribute name.</td></tr></tbody></table></div></div><div class="sect2" id="common.mod.xpl-xtlc_zip-directory"><a name="common.mod.xpl-xtlc_zip-directory"><!----></a><h3 class="sect2" style="padding-top: 65px; margin-top: -65px;"><span class="sect2-number">4.1.7</span> Step: <code class="code">xtlc:zip-directory</code></h3><p class="para" id="d9458e9043"><a name="d9458e9043"><!----></a>Zips a directory and its sub-directories into a single zip file.</p><div class="table nonumber" id="d9458e9045"><a name="d9458e9045"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9052" class="thead-light"><tr id="d9458e9053"><th id="d9458e9054"><a name="d9458e9054"><!----></a>Port</th><th id="d9458e9056"><a name="d9458e9056"><!----></a>Type</th><th id="d9458e9058"><a name="d9458e9058"><!----></a>Primary?</th><th id="d9458e9060"><a name="d9458e9060"><!----></a>Description</th></tr></thead><tbody id="d9458e9062"><tr id="d9458e9063"><td id="d9458e9064"><a name="d9458e9064"><!----></a><a name="d9458e9065"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e9068"><a name="d9458e9068"><!----></a>out</td><td id="d9458e9070"><a name="d9458e9070"><!----></a>yes</td><td id="d9458e9072"><a name="d9458e9072"><!----></a><a name="d9458e9073"><!----></a>The output of the actual zip step, listing all the files that went in.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e9075"><a name="d9458e9075"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9082" class="thead-light"><tr id="d9458e9083"><th id="d9458e9084"><a name="d9458e9084"><!----></a>Option</th><th id="d9458e9086"><a name="d9458e9086"><!----></a>Rq?</th><th id="d9458e9088"><a name="d9458e9088"><!----></a>Default</th><th id="d9458e9090"><a name="d9458e9090"><!----></a>Description</th></tr></thead><tbody id="d9458e9092"><tr id="d9458e9093"><td id="d9458e9094"><a name="d9458e9094"><!----></a><a name="d9458e9095"><!----></a><code class="code code-width-limited">base-path</code></td><td id="d9458e9098"><a name="d9458e9098"><!----></a><a name="d9458e9099"><!----></a>yes</td><td id="d9458e9101"><a name="d9458e9101"><!----></a><a name="d9458e9102"><!----></a><code class="code code-width-limited"/></td><td id="d9458e9104"><a name="d9458e9104"><!----></a><a name="d9458e9105"><!----></a>Directory which contents will be stored in the zip (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9110"><td id="d9458e9111"><a name="d9458e9111"><!----></a><a name="d9458e9112"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d9458e9115"><a name="d9458e9115"><!----></a><a name="d9458e9116"><!----></a>yes</td><td id="d9458e9118"><a name="d9458e9118"><!----></a><a name="d9458e9119"><!----></a><code class="code code-width-limited"/></td><td id="d9458e9121"><a name="d9458e9121"><!----></a><a name="d9458e9122"><!----></a>Document reference for the zip file to produce (must have a leading <code class="code">file:/</code> specifier!)</td></tr><tr id="d9458e9127"><td id="d9458e9128"><a name="d9458e9128"><!----></a><a name="d9458e9129"><!----></a><code class="code code-width-limited">include-base</code></td><td id="d9458e9132"><a name="d9458e9132"><!----></a><a name="d9458e9133"><!----></a> </td><td id="d9458e9135"><a name="d9458e9135"><!----></a><a name="d9458e9136"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9139"><a name="d9458e9139"><!----></a><a name="d9458e9140"><!----></a>When true, the last part of <code class="code">$base-path</code> (e.g. <code class="code">a/b/c</code> ==&gt; <code class="code">c</code>) is used as the root directory in the zip file.</td></tr></tbody></table></div></div></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>