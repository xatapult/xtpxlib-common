<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>5 XSLT Stylesheets</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e200">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8007">oXygen XProc 3.0 support (oXygen versions &lt;Â 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xsl-stylesheets"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">5 </span>XSLT Stylesheets</h1></div><p class="para" id="d9458e9160"><a name="d9458e9160"><!----></a>The xtpxlib-common component contains the following XSLT Stylesheets:</p><div class="table" id="d9458e9163"><a name="d9458e9163"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9169" class="thead-light"><tr id="d9458e9170"><th id="d9458e9171"><a name="d9458e9171"><!----></a>Module/Pipeline</th><th id="d9458e9173"><a name="d9458e9173"><!----></a>Description</th></tr></thead><tbody id="d9458e9175"><tr id="d9458e9176"><td id="d9458e9177"><a name="d9458e9177"><!----></a><a name="d9458e9178"><!----></a><code class="code code-width-limited"><a href="#expand-macro-definitions.xsl"><span class="link">expand-macro-definitions.xsl</span></a></code></td><td id="d9458e9182"><a name="d9458e9182"><!----></a><a name="d9458e9183"><!----></a>This is a driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</td></tr><tr id="d9458e9191"><td id="d9458e9192"><a name="d9458e9192"><!----></a><a name="d9458e9193"><!----></a><code class="code code-width-limited"><a href="#get-system-properties.xsl"><span class="link">get-system-properties.xsl</span></a></code></td><td id="d9458e9197"><a name="d9458e9197"><!----></a><a name="d9458e9198"><!----></a>Gets all the XSLT available system properties (as returned by <code class="code">system-property()</code>).</td></tr><tr id="d9458e9203"><td id="d9458e9204"><a name="d9458e9204"><!----></a><a name="d9458e9205"><!----></a><code class="code code-width-limited"><a href="#xslmod2xqmod-stub.xsl"><span class="link">xslmod2xqmod-stub.xsl</span></a></code></td><td id="d9458e9209"><a name="d9458e9209"><!----></a><a name="d9458e9210"><!----></a>This stylesheet translates an XSLT module (in <code class="code">xtpxlib</code> "style") into a stub for an XQuery Module. After this you still need to hand-edit it to make it all work.</td></tr></tbody></table></div><div class="sect1" id="expand-macro-definitions.xsl"><a name="expand-macro-definitions.xsl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.1</span> XSLT (3.0): <code class="code">expand-macro-definitions.xsl</code></h2><p class="para keep-with-next" id="d9458e9220"><a name="d9458e9220"><!----></a>File: <code class="code">xsl/expand-macro-definitions.xsl</code></p><p class="para" id="d9458e9224"><a name="d9458e9224"><!----></a>This is a driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</p><div class="table nonumber" id="d9458e9232"><a name="d9458e9232"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e9240" class="thead-light"><tr id="d9458e9241"><th id="d9458e9242"><a name="d9458e9242"><!----></a>Parameter</th><th id="d9458e9244"><a name="d9458e9244"><!----></a>Type</th><th id="d9458e9246"><a name="d9458e9246"><!----></a>Rq?</th><th id="d9458e9248"><a name="d9458e9248"><!----></a>Default</th><th id="d9458e9250"><a name="d9458e9250"><!----></a>Description</th></tr></thead><tbody id="d9458e9252"><tr id="d9458e9253"><td id="d9458e9254"><a name="d9458e9254"><!----></a><a name="d9458e9255"><!----></a><code class="code code-width-limited">add-macrodef-comments</code></td><td id="d9458e9258"><a name="d9458e9258"><!----></a><a name="d9458e9259"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e9262"><a name="d9458e9262"><!----></a><a name="d9458e9263"><!----></a>Â </td><td id="d9458e9265"><a name="d9458e9265"><!----></a><a name="d9458e9266"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e9269"><a name="d9458e9269"><!----></a><a name="d9458e9270"><!----></a>Whether to add a macro definition comment (summarizing all macro definitions) when a <code class="code">&lt;*:macrodefs&gt;</code> element is processed.</td></tr><tr id="d9458e9275"><td id="d9458e9276"><a name="d9458e9276"><!----></a><a name="d9458e9277"><!----></a><code class="code code-width-limited">expand-in-attributes</code></td><td id="d9458e9280"><a name="d9458e9280"><!----></a><a name="d9458e9281"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e9284"><a name="d9458e9284"><!----></a><a name="d9458e9285"><!----></a>Â </td><td id="d9458e9287"><a name="d9458e9287"><!----></a><a name="d9458e9288"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9291"><a name="d9458e9291"><!----></a><a name="d9458e9292"><!----></a>Whether to expand the macro definitions in attributes.</td></tr><tr id="d9458e9294"><td id="d9458e9295"><a name="d9458e9295"><!----></a><a name="d9458e9296"><!----></a><code class="code code-width-limited">expand-in-text</code></td><td id="d9458e9299"><a name="d9458e9299"><!----></a><a name="d9458e9300"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e9303"><a name="d9458e9303"><!----></a><a name="d9458e9304"><!----></a>Â </td><td id="d9458e9306"><a name="d9458e9306"><!----></a><a name="d9458e9307"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9310"><a name="d9458e9310"><!----></a><a name="d9458e9311"><!----></a>Whether to expand the macro definitions in text nodes.</td></tr><tr id="d9458e9313"><td id="d9458e9314"><a name="d9458e9314"><!----></a><a name="d9458e9315"><!----></a><code class="code code-width-limited">in</code></td><td id="d9458e9318"><a name="d9458e9318"><!----></a><a name="d9458e9319"><!----></a><code class="code code-width-limited">node()</code></td><td id="d9458e9322"><a name="d9458e9322"><!----></a><a name="d9458e9323"><!----></a>Â </td><td id="d9458e9325"><a name="d9458e9325"><!----></a><a name="d9458e9326"><!----></a><code class="code code-width-limited">.</code></td><td id="d9458e9329"><a name="d9458e9329"><!----></a><a name="d9458e9330"><!----></a>The node for which to expand the macro definitions. Must be an element or a document node.</td></tr><tr id="d9458e9332"><td id="d9458e9333"><a name="d9458e9333"><!----></a><a name="d9458e9334"><!----></a><code class="code code-width-limited">macrodefs</code></td><td id="d9458e9337"><a name="d9458e9337"><!----></a><a name="d9458e9338"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)*</code></td><td id="d9458e9341"><a name="d9458e9341"><!----></a><a name="d9458e9342"><!----></a>Â </td><td id="d9458e9344"><a name="d9458e9344"><!----></a><a name="d9458e9345"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e9348"><a name="d9458e9348"><!----></a><a name="d9458e9349"><!----></a>Any initial macro definitions.</td></tr><tr id="d9458e9351"><td id="d9458e9352"><a name="d9458e9352"><!----></a><a name="d9458e9353"><!----></a><code class="code code-width-limited">use-local-macrodefs</code></td><td id="d9458e9356"><a name="d9458e9356"><!----></a><a name="d9458e9357"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e9360"><a name="d9458e9360"><!----></a><a name="d9458e9361"><!----></a>Â </td><td id="d9458e9363"><a name="d9458e9363"><!----></a><a name="d9458e9364"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9367"><a name="d9458e9367"><!----></a><a name="d9458e9368"><!----></a>Check for <code class="code">&lt;*:macrodefs&gt;</code> element as first child and process accordingly</td></tr><tr id="d9458e9373"><td id="d9458e9374"><a name="d9458e9374"><!----></a><a name="d9458e9375"><!----></a><code class="code code-width-limited">use-standard-macrodefs</code></td><td id="d9458e9378"><a name="d9458e9378"><!----></a><a name="d9458e9379"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e9382"><a name="d9458e9382"><!----></a><a name="d9458e9383"><!----></a>Â </td><td id="d9458e9385"><a name="d9458e9385"><!----></a><a name="d9458e9386"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e9389"><a name="d9458e9389"><!----></a><a name="d9458e9390"><!----></a>Whether to use the standard macro definitions.</td></tr></tbody></table></div></div><div class="sect1" id="get-system-properties.xsl"><a name="get-system-properties.xsl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.2</span> XSLT (2.0): <code class="code">get-system-properties.xsl</code></h2><p class="para keep-with-next" id="d9458e9397"><a name="d9458e9397"><!----></a>File: <code class="code">xsl/get-system-properties.xsl</code></p><p class="para" id="d9458e9401"><a name="d9458e9401"><!----></a>Gets all the XSLT available system properties (as returned by <code class="code">system-property()</code>).</p></div><div class="sect1" id="xslmod2xqmod-stub.xsl"><a name="xslmod2xqmod-stub.xsl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">5.3</span> XSLT (2.0): <code class="code">xslmod2xqmod-stub.xsl</code></h2><p class="para keep-with-next" id="d9458e9411"><a name="d9458e9411"><!----></a>File: <code class="code">xsl/xslmod2xqmod-stub.xsl</code></p><p class="para" id="d9458e9415"><a name="d9458e9415"><!----></a>This stylesheet translates an XSLT module (in <code class="code">xtpxlib</code> "style") into a stub for an XQuery Module. After this you still need to hand-edit it to make it all work.</p><p class="para" id="d9458e9420"><a name="d9458e9420"><!----></a>See as an example <a href="2_XSLT_Modules.html#href.mod.xsl"><span class="link">href.mod.xsl</span></a>. Large parts of this module were turned into XQuery by this stylesheet. The result (edited after this initial conversion) is in the <code class="code">xqmod</code> directory of this component.</p></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>