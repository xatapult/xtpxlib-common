<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>1 Description</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e200">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8007">oXygen XProc 3.0 support (oXygen versions &lt; 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-description"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">1 </span>Description</h1></div><p class="para" id="d9458e186"><a name="d9458e186"><!----></a><code class="code">xtpxlib-common</code> is <code class="code">xtpxlib</code>'s communal component. Most other components in <code class="code">xtpxlib</code> are dependent on
      it. If you start using <code class="code">xtpxlib</code>, you'll also use it a lot yourself.</p><div class="sect1" id="d9458e200"><a name="d9458e200"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">1.1</span> Contents</h2><p class="para" id="d9458e205"><a name="d9458e205"><!----></a><code class="code">xtpxlib-common</code> consists of the following parts (by subdirectory):</p><div class="table nonumber" id="d9458e210"><a name="d9458e210"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e220" class="thead-light"><tr id="d9458e222">
              <th id="d9458e224"><a name="d9458e224"><!----></a>Directory</th>
              <th id="d9458e227"><a name="d9458e227"><!----></a>Contents</th>
            </tr></thead><tbody id="d9458e232">
            <tr id="d9458e234">
              <td id="d9458e236"><a name="d9458e236"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e238"&gt; (phase: main)]</td>
              <td id="d9458e242"><a name="d9458e242"><!----></a>XML data files.</td>
            </tr>
            <tr id="d9458e246">
              <td id="d9458e248"><a name="d9458e248"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e250"&gt; (phase: main)]</td>
              <td id="d9458e254"><a name="d9458e254"><!----></a>Sources for the generation of the component's documentation. Internal use only.</td>
            </tr>
            <tr id="d9458e258">
              <td id="d9458e260"><a name="d9458e260"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e262"&gt; (phase: main)]</td>
              <td id="d9458e266"><a name="d9458e266"><!----></a>GitHub pages site for this component.</td>
            </tr>
            <tr id="d9458e270">
              <td id="d9458e272"><a name="d9458e272"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e274"&gt; (phase: main)]</td>
              <td id="d9458e278"><a name="d9458e278"><!----></a>Auxiliary files, mainly for use in the oXygen IDE.</td>
            </tr>
            <tr id="d9458e282">
              <td id="d9458e284"><a name="d9458e284"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e286"&gt; (phase: main)]</td>
              <td id="d9458e290"><a name="d9458e290"><!----></a><a name="d9458e292"><!----></a>Template files. These files contain XSLT, XQuery, XProc, etc. files with the main structure and headers filled in. Contain
                  macros for use in the oXygen IDE.<br/><a name="d9458e295"><!----></a>To install/use these files in oXygen, open its preferences dialogue (<code class="code">Options</code> &gt; <code class="code">Preferences…</code>) and
                  add the <code class="code">xtpxlib-common/template</code> subdirectory to its <code class="code">Document templates</code> section.</td>
            </tr>
            <tr id="d9458e313">
              <td id="d9458e315"><a name="d9458e315"><!----></a><code class="code code-width-limited"/>xpl</td>
              <td id="d9458e319"><a name="d9458e319"><!----></a>General purpose XProc (1.0) pipelines. .</td>
            </tr>
            <tr id="d9458e323">
              <td id="d9458e325"><a name="d9458e325"><!----></a><code class="code code-width-limited"/>xplmod</td>
              <td id="d9458e329"><a name="d9458e329"><!----></a>General purpose XProc (1.0) modules. </td>
            </tr>
            <tr id="d9458e333">
              <td id="d9458e335"><a name="d9458e335"><!----></a><code class="code code-width-limited"/>xpl3</td>
              <td id="d9458e339"><a name="d9458e339"><!----></a>General purpose XProc (3.0) pipelines. .</td>
            </tr>
            <tr id="d9458e343">
              <td id="d9458e345"><a name="d9458e345"><!----></a><code class="code code-width-limited"/>xpl3mod</td>
              <td id="d9458e349"><a name="d9458e349"><!----></a>General purpose XProc (3.0) modules. </td>
            </tr>
            <tr id="d9458e353">
              <td id="d9458e355"><a name="d9458e355"><!----></a><code class="code code-width-limited"/>xqmod</td>
              <td id="d9458e359"><a name="d9458e359"><!----></a>General purpose XQuery modules. This is a partial translation of the XSLT module's functionality (especially from <code class="code"><a href="2_XSLT_Modules.html#href.mod.xsl"><span class="link">href.mod.xsl</span></a></code>) into XQuery.</td>
            </tr>
            <tr id="d9458e367">
              <td id="d9458e369"><a name="d9458e369"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e371"&gt; (phase: main)]</td>
              <td id="d9458e375"><a name="d9458e375"><!----></a>Schemas for some of the document types used in <code class="code">Xatapult XML Library</code>. </td>
            </tr>
            <tr id="d9458e383">
              <td id="d9458e385"><a name="d9458e385"><!----></a><code class="code code-width-limited"/>xsl</td>
              <td id="d9458e389"><a name="d9458e389"><!----></a>Some general purpose XSLT stylesheets.</td>
            </tr>
            <tr id="d9458e393">
              <td id="d9458e395"><a name="d9458e395"><!----></a>[*** Unrecognized element: &lt;code role="code-width-limited" xml:id="d9458e397"&gt; (phase: main)]</td>
              <td id="d9458e401"><a name="d9458e401"><!----></a>General purpose XSLT modules.</td>
            </tr>
          </tbody></table></div></div><div class="sect1" id="parameters-explanation"><a name="parameters-explanation"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">1.2</span> Parameter handling in <code class="code">xtpxlib-common</code></h2><p class="para keep-with-next" id="d9458e418"><a name="d9458e418"><!----></a>Parameters, as referred to here, are name/value pairs meant for customizing software's behavior. Things like
        prompts, URIs, etc. The <code class="code">xtpxlib-common</code> component's parameters have the following characteristics:</p><ul class="itemizedlist" id="d9458e424"><a name="d9458e424"><!----></a><li id="d9458e426"><a name="d9458e426"><!----></a><p class="para" id="d9458e428"><a name="d9458e428"><!----></a>Parameters in this component are handled by the XSLT module <code class="code"><a href="2_XSLT_Modules.html#parameters.mod.xsl"><span class="link">parameteres.mod.xsl</span></a></code>. This includes:</p><ul class="itemizedlist" id="d9458e435"><a name="d9458e435"><!----></a><li id="d9458e437"><a name="d9458e437"><!----></a><p class="para" id="d9458e439"><a name="d9458e439"><!----></a>Reading them from an XML document, either a document on its own or embedded into a bigger XML document. The result will be an
                XPath <code class="code">map(xs:string, xs:string*)</code>, which can be inspected and used.</p></li><li id="d9458e446"><a name="d9458e446"><!----></a><p class="para" id="d9458e448"><a name="d9458e448"><!----></a>Expanding parameter references in strings. Parameter references are constructions like <code class="code">{$parameter-name}</code> (or
                  <code class="code">${parameter-name}</code>, both will yield the same results).</p></li></ul></li><li id="d9458e460"><a name="d9458e460"><!----></a><p class="para" id="d9458e462"><a name="d9458e462"><!----></a>Parameters are specified within an XML element called <code class="tag">&lt;parameters&gt;</code>, the namespace does not matter. This element can be the
            root of a document on its own or embedded in a bigger (XML) document. For instance:</p><div class="programlisting" id="d9458e468"><a name="d9458e468"><!----></a><pre class="programlisting">&lt;parameters&gt;
  &lt;parameter name="greeting"&gt;
    &lt;value&gt;Hello!&lt;/value&gt;
  &lt;/parameter&gt;
&lt;/parameters&gt;</pre></div><p class="para" id="d9458e471"><a name="d9458e471"><!----></a>There is a <a href="7_XML_Schemas.html#parameters.xsd"><span class="link">schema</span></a> available for this.</p></li><li id="d9458e478"><a name="d9458e478"><!----></a><p class="para" id="d9458e480"><a name="d9458e480"><!----></a>A single parameter is specified using a <code class="tag">&lt;parameter name="…"&gt;</code> child element. </p><p class="para" id="d9458e486"><a name="d9458e486"><!----></a>The value of the <code class="code">name</code> attribute will be normalized (whitespace collapsed to a single space character, leading/trailing
            whitespace removed) and space characters are replaced with an underscore (<code class="code">_</code>). So <code class="code">name=" a b "</code> will become
            parameter <code class="code">a_b</code>.</p></li><li id="d9458e502"><a name="d9458e502"><!----></a><p class="para" id="d9458e504"><a name="d9458e504"><!----></a>Values for a parameter are specified using <code class="tag">&lt;value&gt;</code> child element. A parameter can have multiple values. Parameter references
            inside values (either written as <code class="code">{$parameter-name}</code> or <code class="code">${parameter-name}</code>) are expanded into their values (for
            multi-valued parameters only the first value is used).</p></li><li id="d9458e517"><a name="d9458e517"><!----></a><p class="para" id="d9458e519"><a name="d9458e519"><!----></a>It is often useful to specify values for parameters based on different circumstances. For instance based on language
              (<code class="code">Hello</code> in English or <code class="code">Bonjour</code> in French), or system type (<code class="code">https://www…</code> for production,
              <code class="code">http://test…</code> for test). This is implemented as follows:</p><ul class="itemizedlist" id="d9458e534"><a name="d9458e534"><!----></a><li id="d9458e536"><a name="d9458e536"><!----></a><p class="para" id="d9458e538"><a name="d9458e538"><!----></a>When initially reading the parameters you can specify a filter map (<code class="code">map(xs:string, xs:string*)</code>).</p></li><li id="d9458e545"><a name="d9458e545"><!----></a><p class="para" id="d9458e547"><a name="d9458e547"><!----></a>The <code class="tag">&lt;value&gt;</code> elements can have any attributes. These attributes are handled as whitespace separated lists of values.
              </p></li><li id="d9458e554"><a name="d9458e554"><!----></a><p class="para" id="d9458e556"><a name="d9458e556"><!----></a>The name of such an attribute is held against the entries in filter map. If a filter entry with this name exists, one of the
                values of the attribute must be present in the filter map.</p></li></ul><p class="para" id="d9458e561"><a name="d9458e561"><!----></a>For instance, assume the parameters look like this:</p><div class="programlisting" id="d9458e564"><a name="d9458e564"><!----></a><pre class="programlisting">&lt;parameters&gt;
  &lt;parameter name="greeting"&gt;
    &lt;value lang="en"&gt;Hello!&lt;/value&gt;
    &lt;value lang="nl de"&gt;Hallo!&lt;/value&gt;
    &lt;value lang="fr"&gt;Bonjour!&lt;/value&gt;
  &lt;/parameter&gt;
  &lt;parameter name="number"&gt;
    &lt;value&gt;123&lt;/value&gt;
  &lt;/parameter&gt;
&lt;/parameters&gt;</pre></div><ul class="itemizedlist" id="d9458e567"><a name="d9458e567"><!----></a><li id="d9458e569"><a name="d9458e569"><!----></a><p class="para" id="d9458e571"><a name="d9458e571"><!----></a>Reading this with an empty (or absent) filter map, or a filter map that does not have a <code class="code">lang</code> entry, will result in a
                  <code class="code">greeting</code> parameter with multiple values, <code class="code">Hello!</code>, <code class="code">Hallo!</code> and <code class="code">Bonjour!</code>.</p></li><li id="d9458e590"><a name="d9458e590"><!----></a><p class="para" id="d9458e592"><a name="d9458e592"><!----></a>Reading this with a filter map <code class="code">map{'lang': 'en'}</code> will return the <code class="code">greeting</code> parameter with value
                  <code class="code">Hello!</code>.</p></li><li id="d9458e605"><a name="d9458e605"><!----></a><p class="para" id="d9458e607"><a name="d9458e607"><!----></a>Reading this with a filter map <code class="code">map{'lang': 'fr'}</code> will return the <code class="code">greeting</code> parameter with value
                  <code class="code">Bonjour!</code>.</p></li><li id="d9458e620"><a name="d9458e620"><!----></a><p class="para" id="d9458e622"><a name="d9458e622"><!----></a>Reading this with a filter map <code class="code">map{'lang': ('en', 'de')}</code> (not particularly useful) will return the
                  <code class="code">greeting</code> parameter with values <code class="code">Hello!</code>
                <span class="emphasis italic">and</span>
                <code class="code">Hallo!</code>. </p></li><li id="d9458e641"><a name="d9458e641"><!----></a><p class="para" id="d9458e643"><a name="d9458e643"><!----></a>In all cases the <code class="code">number</code> parameter will get value <code class="code">123</code> (since it has no filtering attributes on its
                  <code class="tag">&lt;value&gt;</code> element).</p></li></ul><p class="para" id="d9458e658"><a name="d9458e658"><!----></a>It is possible to combine multiple filter attributes on a <code class="tag">&lt;value&gt;</code> element.</p></li><li id="d9458e666"><a name="d9458e666"><!----></a><p class="para" id="d9458e668"><a name="d9458e668"><!----></a>Another thing that is often useful in specifying parameters is to <span class="emphasis italic">group</span> them. For this you can put a number of
              <code class="tag">&lt;parameter&gt;</code> elements inside a <code class="tag">&lt;group name="…"&gt;</code> element. The name of the group is used as a prefix (with a dot
              (<code class="code">.</code>) separator) for the parameters in the group. For instance:</p><div class="programlisting" id="d9458e683"><a name="d9458e683"><!----></a><pre class="programlisting">&lt;parameters&gt;
  &lt;group name="important"&gt;
    &lt;parameter name="greeting"&gt;
      &lt;value&gt;Hello!&lt;/value&gt;
    &lt;/parameter&gt;
  &lt;/group&gt;
&lt;/parameters&gt;</pre></div><p class="para" id="d9458e686"><a name="d9458e686"><!----></a>This will result in a parameter called <code class="code">important.greeting</code>.</p></li></ul></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>