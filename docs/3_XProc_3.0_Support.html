<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>3 XProc 3.0 Support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e200">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8007">oXygen XProc 3.0 support (oXygen versions &lt;Â 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-3-support"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">3 </span>XProc 3.0 Support</h1></div><div class="table" id="d9458e6380"><a name="d9458e6380"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6386" class="thead-light"><tr id="d9458e6387"><th id="d9458e6388"><a name="d9458e6388"><!----></a>Module/Pipeline</th><th id="d9458e6390"><a name="d9458e6390"><!----></a>Description</th></tr></thead><tbody id="d9458e6392"><tr id="d9458e6393"><td id="d9458e6394"><a name="d9458e6394"><!----></a><a name="d9458e6395"><!----></a><code class="code code-width-limited"><a href="#copy-dir.xpl"><span class="link">copy-dir.xpl</span></a></code></td><td id="d9458e6399"><a name="d9458e6399"><!----></a><a name="d9458e6400"><!----></a>This step copies a directory and all its contents from one location to the other.</td></tr><tr id="d9458e6402"><td id="d9458e6403"><a name="d9458e6403"><!----></a><a name="d9458e6404"><!----></a><code class="code code-width-limited"><a href="#create-clear-directory.xpl"><span class="link">create-clear-directory.xpl</span></a></code></td><td id="d9458e6408"><a name="d9458e6408"><!----></a><a name="d9458e6409"><!----></a>This step does two things:</td></tr><tr id="d9458e6411"><td id="d9458e6412"><a name="d9458e6412"><!----></a><a name="d9458e6413"><!----></a><code class="code code-width-limited"><a href="#expand-macro-definitions.xpl"><span class="link">expand-macro-definitions.xpl</span></a></code></td><td id="d9458e6417"><a name="d9458e6417"><!----></a><a name="d9458e6418"><!----></a>This is an XProc driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</td></tr><tr id="d9458e6426"><td id="d9458e6427"><a name="d9458e6427"><!----></a><a name="d9458e6428"><!----></a><code class="code code-width-limited"><a href="#recursive-directory-list.xpl"><span class="link">recursive-directory-list.xpl</span></a></code></td><td id="d9458e6432"><a name="d9458e6432"><!----></a><a name="d9458e6433"><!----></a>Extension of standard the <code class="code">p:directory</code> list step. Returns the contents of a directory, going into sub-directories recursively. Adds the possibility to "flatten" the list.</td></tr><tr id="d9458e6438"><td id="d9458e6439"><a name="d9458e6439"><!----></a><a name="d9458e6440"><!----></a><code class="code code-width-limited"><a href="#subdir-list.xpl"><span class="link">subdir-list.xpl</span></a></code></td><td id="d9458e6444"><a name="d9458e6444"><!----></a><a name="d9458e6445"><!----></a>Returns an XML document with the sub-directories of a given directory.</td></tr><tr id="d9458e6447"><td id="d9458e6448"><a name="d9458e6448"><!----></a><a name="d9458e6449"><!----></a><code class="code code-width-limited"><a href="#validate.xpl"><span class="link">validate.xpl</span></a></code></td><td id="d9458e6453"><a name="d9458e6453"><!----></a><a name="d9458e6454"><!----></a>This step performs validation using a W3C Schema and/or Schematron. It breaks the processing if something is wrong.</td></tr><tr id="d9458e6456"><td id="d9458e6457"><a name="d9458e6457"><!----></a><a name="d9458e6458"><!----></a><code class="code code-width-limited"><a href="#write-log.xpl"><span class="link">write-log.xpl</span></a></code></td><td id="d9458e6462"><a name="d9458e6462"><!----></a><a name="d9458e6463"><!----></a>Writes an entry to a log file.</td></tr><tr id="d9458e6465"><td id="d9458e6466"><a name="d9458e6466"><!----></a><a name="d9458e6467"><!----></a><code class="code code-width-limited"><a href="#zip-directory.xpl"><span class="link">zip-directory.xpl</span></a></code></td><td id="d9458e6471"><a name="d9458e6471"><!----></a><a name="d9458e6472"><!----></a>Zips a directory into a single zip file.</td></tr></tbody></table></div><div class="sect1" id="copy-dir.xpl"><a name="copy-dir.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.1</span> XProc (3.0) pipeline: <code class="code">copy-dir.xpl</code></h2><p class="para keep-with-next" id="d9458e6479"><a name="d9458e6479"><!----></a>File: <code class="code">xpl3mod/copy-dir/copy-dir.xpl</code></p><p class="para" id="d9458e6483"><a name="d9458e6483"><!----></a>Type: <code class="code">xtlc:copy-dir</code></p><p class="para" id="d9458e6487"><a name="d9458e6487"><!----></a>This step copies a directory and all its contents from one location to the other.</p><ul class="itemizedlist" id="d9458e6489"><a name="d9458e6489"><!----></a><li id="d9458e6490"><a name="d9458e6490"><!----></a><p class="para" id="d9458e6491"><a name="d9458e6491"><!----></a>If $clear-target is true (default), before copying the target directory is cleared/emptied.</p></li><li id="d9458e6493"><a name="d9458e6493"><!----></a><p class="para" id="d9458e6494"><a name="d9458e6494"><!----></a>If the source directory is empty, it simply creates an empty target directory.</p></li><li id="d9458e6496"><a name="d9458e6496"><!----></a><p class="para" id="d9458e6497"><a name="d9458e6497"><!----></a>It can do include/exclude filtering, like <code class="code">p:directory-list</code></p></li></ul><p class="para" id="d9458e6501"><a name="d9458e6501"><!----></a>The step itself acts as an identity step.</p><div class="table nonumber" id="d9458e6503"><a name="d9458e6503"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6510" class="thead-light"><tr id="d9458e6511"><th id="d9458e6512"><a name="d9458e6512"><!----></a>Port</th><th id="d9458e6514"><a name="d9458e6514"><!----></a>Type</th><th id="d9458e6516"><a name="d9458e6516"><!----></a>Primary?</th><th id="d9458e6518"><a name="d9458e6518"><!----></a>Description</th></tr></thead><tbody id="d9458e6520"><tr id="d9458e6521"><td id="d9458e6522"><a name="d9458e6522"><!----></a><a name="d9458e6523"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6526"><a name="d9458e6526"><!----></a>in</td><td id="d9458e6528"><a name="d9458e6528"><!----></a>yes</td><td id="d9458e6530"><a name="d9458e6530"><!----></a></td></tr><tr id="d9458e6531"><td id="d9458e6532"><a name="d9458e6532"><!----></a><a name="d9458e6533"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6536"><a name="d9458e6536"><!----></a>out</td><td id="d9458e6538"><a name="d9458e6538"><!----></a>yes</td><td id="d9458e6540"><a name="d9458e6540"><!----></a></td></tr></tbody></table></div><div class="table nonumber" id="d9458e6541"><a name="d9458e6541"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6549" class="thead-light"><tr id="d9458e6550"><th id="d9458e6551"><a name="d9458e6551"><!----></a>Option</th><th id="d9458e6553"><a name="d9458e6553"><!----></a>Type</th><th id="d9458e6555"><a name="d9458e6555"><!----></a>Rq?</th><th id="d9458e6557"><a name="d9458e6557"><!----></a>Default</th><th id="d9458e6559"><a name="d9458e6559"><!----></a>Description</th></tr></thead><tbody id="d9458e6561"><tr id="d9458e6562"><td id="d9458e6563"><a name="d9458e6563"><!----></a><a name="d9458e6564"><!----></a><code class="code code-width-limited">clear-target</code></td><td id="d9458e6567"><a name="d9458e6567"><!----></a><a name="d9458e6568"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6571"><a name="d9458e6571"><!----></a><a name="d9458e6572"><!----></a>Â </td><td id="d9458e6574"><a name="d9458e6574"><!----></a><a name="d9458e6575"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6578"><a name="d9458e6578"><!----></a><a name="d9458e6579"><!----></a>Whether to clear the target before copying.</td></tr><tr id="d9458e6581"><td id="d9458e6582"><a name="d9458e6582"><!----></a><a name="d9458e6583"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e6586"><a name="d9458e6586"><!----></a><a name="d9458e6587"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e6590"><a name="d9458e6590"><!----></a><a name="d9458e6591"><!----></a>Â </td><td id="d9458e6593"><a name="d9458e6593"><!----></a><a name="d9458e6594"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e6597"><a name="d9458e6597"><!----></a><a name="d9458e6598"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e6603"><td id="d9458e6604"><a name="d9458e6604"><!----></a><a name="d9458e6605"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e6608"><a name="d9458e6608"><!----></a><a name="d9458e6609"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e6612"><a name="d9458e6612"><!----></a><a name="d9458e6613"><!----></a>Â </td><td id="d9458e6615"><a name="d9458e6615"><!----></a><a name="d9458e6616"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e6619"><a name="d9458e6619"><!----></a><a name="d9458e6620"><!----></a>Regular expression(s) for files to be excluded from the copy. By default, git directories are excluded</td></tr><tr id="d9458e6622"><td id="d9458e6623"><a name="d9458e6623"><!----></a><a name="d9458e6624"><!----></a><code class="code code-width-limited">href-source</code></td><td id="d9458e6627"><a name="d9458e6627"><!----></a><a name="d9458e6628"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6631"><a name="d9458e6631"><!----></a><a name="d9458e6632"><!----></a>yes</td><td id="d9458e6634"><a name="d9458e6634"><!----></a><a name="d9458e6635"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6637"><a name="d9458e6637"><!----></a><a name="d9458e6638"><!----></a>The full path/URI of the source directory. If the directory does not exist, nothing will happen.</td></tr><tr id="d9458e6640"><td id="d9458e6641"><a name="d9458e6641"><!----></a><a name="d9458e6642"><!----></a><code class="code code-width-limited">href-target</code></td><td id="d9458e6645"><a name="d9458e6645"><!----></a><a name="d9458e6646"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6649"><a name="d9458e6649"><!----></a><a name="d9458e6650"><!----></a>yes</td><td id="d9458e6652"><a name="d9458e6652"><!----></a><a name="d9458e6653"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6655"><a name="d9458e6655"><!----></a><a name="d9458e6656"><!----></a>The full path/URI of the target directory. Any non-existing parent directories leading up to this directory will be automatically created.</td></tr><tr id="d9458e6658"><td id="d9458e6659"><a name="d9458e6659"><!----></a><a name="d9458e6660"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e6663"><a name="d9458e6663"><!----></a><a name="d9458e6664"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e6667"><a name="d9458e6667"><!----></a><a name="d9458e6668"><!----></a>Â </td><td id="d9458e6670"><a name="d9458e6670"><!----></a><a name="d9458e6671"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e6674"><a name="d9458e6674"><!----></a><a name="d9458e6675"><!----></a>Regular expression(s) files to be included in the copy.</td></tr></tbody></table></div></div><div class="sect1" id="create-clear-directory.xpl"><a name="create-clear-directory.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.2</span> XProc (3.0) pipeline: <code class="code">create-clear-directory.xpl</code></h2><p class="para keep-with-next" id="d9458e6682"><a name="d9458e6682"><!----></a>File: <code class="code">xpl3mod/create-clear-directory/create-clear-directory.xpl</code></p><p class="para" id="d9458e6686"><a name="d9458e6686"><!----></a>Type: <code class="code">xtlc:create-clear-directory</code></p><p class="para" id="d9458e6690"><a name="d9458e6690"><!----></a>This step does two things:</p><ul class="itemizedlist" id="d9458e6692"><a name="d9458e6692"><!----></a><li id="d9458e6693"><a name="d9458e6693"><!----></a><p class="para" id="d9458e6694"><a name="d9458e6694"><!----></a>When <code class="code">$clear</code> is true, it removes an (optionally) existing directory</p></li><li id="d9458e6699"><a name="d9458e6699"><!----></a><p class="para" id="d9458e6700"><a name="d9458e6700"><!----></a>Then it makes sure the directory always exists</p></li></ul><p class="para" id="d9458e6702"><a name="d9458e6702"><!----></a>It doesn't matter whether the directory exists beforehand.</p><p class="para" id="d9458e6704"><a name="d9458e6704"><!----></a>The step itself acts as an identity step.</p><div class="table nonumber" id="d9458e6706"><a name="d9458e6706"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6713" class="thead-light"><tr id="d9458e6714"><th id="d9458e6715"><a name="d9458e6715"><!----></a>Port</th><th id="d9458e6717"><a name="d9458e6717"><!----></a>Type</th><th id="d9458e6719"><a name="d9458e6719"><!----></a>Primary?</th><th id="d9458e6721"><a name="d9458e6721"><!----></a>Description</th></tr></thead><tbody id="d9458e6723"><tr id="d9458e6724"><td id="d9458e6725"><a name="d9458e6725"><!----></a><a name="d9458e6726"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6729"><a name="d9458e6729"><!----></a>in</td><td id="d9458e6731"><a name="d9458e6731"><!----></a>yes</td><td id="d9458e6733"><a name="d9458e6733"><!----></a></td></tr><tr id="d9458e6734"><td id="d9458e6735"><a name="d9458e6735"><!----></a><a name="d9458e6736"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6739"><a name="d9458e6739"><!----></a>out</td><td id="d9458e6741"><a name="d9458e6741"><!----></a>yes</td><td id="d9458e6743"><a name="d9458e6743"><!----></a></td></tr></tbody></table></div><div class="table nonumber" id="d9458e6744"><a name="d9458e6744"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6752" class="thead-light"><tr id="d9458e6753"><th id="d9458e6754"><a name="d9458e6754"><!----></a>Option</th><th id="d9458e6756"><a name="d9458e6756"><!----></a>Type</th><th id="d9458e6758"><a name="d9458e6758"><!----></a>Rq?</th><th id="d9458e6760"><a name="d9458e6760"><!----></a>Default</th><th id="d9458e6762"><a name="d9458e6762"><!----></a>Description</th></tr></thead><tbody id="d9458e6764"><tr id="d9458e6765"><td id="d9458e6766"><a name="d9458e6766"><!----></a><a name="d9458e6767"><!----></a><code class="code code-width-limited">clear</code></td><td id="d9458e6770"><a name="d9458e6770"><!----></a><a name="d9458e6771"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6774"><a name="d9458e6774"><!----></a><a name="d9458e6775"><!----></a>Â </td><td id="d9458e6777"><a name="d9458e6777"><!----></a><a name="d9458e6778"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6781"><a name="d9458e6781"><!----></a><a name="d9458e6782"><!----></a>Whether or not to empty an existing directory.</td></tr><tr id="d9458e6784"><td id="d9458e6785"><a name="d9458e6785"><!----></a><a name="d9458e6786"><!----></a><code class="code code-width-limited">href-dir</code></td><td id="d9458e6789"><a name="d9458e6789"><!----></a><a name="d9458e6790"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6793"><a name="d9458e6793"><!----></a><a name="d9458e6794"><!----></a>yes</td><td id="d9458e6796"><a name="d9458e6796"><!----></a><a name="d9458e6797"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6799"><a name="d9458e6799"><!----></a><a name="d9458e6800"><!----></a>The full path/URI of the directory to delete.</td></tr></tbody></table></div></div><div class="sect1" id="expand-macro-definitions.xpl"><a name="expand-macro-definitions.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.3</span> XProc (3.0) pipeline: <code class="code">expand-macro-definitions.xpl</code></h2><p class="para keep-with-next" id="d9458e6807"><a name="d9458e6807"><!----></a>File: <code class="code">xpl3mod/expand-macro-definitions/expand-macro-definitions.xpl</code></p><p class="para" id="d9458e6811"><a name="d9458e6811"><!----></a>Type: <code class="code">xtlc:expand-macro-definitions</code></p><p class="para" id="d9458e6815"><a name="d9458e6815"><!----></a>This is an XProc driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</p><div class="table nonumber" id="d9458e6823"><a name="d9458e6823"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6830" class="thead-light"><tr id="d9458e6831"><th id="d9458e6832"><a name="d9458e6832"><!----></a>Port</th><th id="d9458e6834"><a name="d9458e6834"><!----></a>Type</th><th id="d9458e6836"><a name="d9458e6836"><!----></a>Primary?</th><th id="d9458e6838"><a name="d9458e6838"><!----></a>Description</th></tr></thead><tbody id="d9458e6840"><tr id="d9458e6841"><td id="d9458e6842"><a name="d9458e6842"><!----></a><a name="d9458e6843"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6846"><a name="d9458e6846"><!----></a>in</td><td id="d9458e6848"><a name="d9458e6848"><!----></a>yes</td><td id="d9458e6850"><a name="d9458e6850"><!----></a><a name="d9458e6851"><!----></a>The document to expand the macro definition references in</td></tr><tr id="d9458e6853"><td id="d9458e6854"><a name="d9458e6854"><!----></a><a name="d9458e6855"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6858"><a name="d9458e6858"><!----></a>out</td><td id="d9458e6860"><a name="d9458e6860"><!----></a>yes</td><td id="d9458e6862"><a name="d9458e6862"><!----></a><a name="d9458e6863"><!----></a>The resulting document with the macro definitions expanded.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e6865"><a name="d9458e6865"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6873" class="thead-light"><tr id="d9458e6874"><th id="d9458e6875"><a name="d9458e6875"><!----></a>Option</th><th id="d9458e6877"><a name="d9458e6877"><!----></a>Type</th><th id="d9458e6879"><a name="d9458e6879"><!----></a>Rq?</th><th id="d9458e6881"><a name="d9458e6881"><!----></a>Default</th><th id="d9458e6883"><a name="d9458e6883"><!----></a>Description</th></tr></thead><tbody id="d9458e6885"><tr id="d9458e6886"><td id="d9458e6887"><a name="d9458e6887"><!----></a><a name="d9458e6888"><!----></a><code class="code code-width-limited">add-macrodef-comments</code></td><td id="d9458e6891"><a name="d9458e6891"><!----></a><a name="d9458e6892"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6895"><a name="d9458e6895"><!----></a><a name="d9458e6896"><!----></a>Â </td><td id="d9458e6898"><a name="d9458e6898"><!----></a><a name="d9458e6899"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e6902"><a name="d9458e6902"><!----></a><a name="d9458e6903"><!----></a>Whether to add a macro definition comment (summarizing all macro definitions) when a <code class="code">&lt;*:macrodefs&gt;</code> element is processed.</td></tr><tr id="d9458e6908"><td id="d9458e6909"><a name="d9458e6909"><!----></a><a name="d9458e6910"><!----></a><code class="code code-width-limited">expand-in-attributes</code></td><td id="d9458e6913"><a name="d9458e6913"><!----></a><a name="d9458e6914"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6917"><a name="d9458e6917"><!----></a><a name="d9458e6918"><!----></a>Â </td><td id="d9458e6920"><a name="d9458e6920"><!----></a><a name="d9458e6921"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6924"><a name="d9458e6924"><!----></a><a name="d9458e6925"><!----></a>Whether to expand the macro definitions in attributes.</td></tr><tr id="d9458e6927"><td id="d9458e6928"><a name="d9458e6928"><!----></a><a name="d9458e6929"><!----></a><code class="code code-width-limited">expand-in-text</code></td><td id="d9458e6932"><a name="d9458e6932"><!----></a><a name="d9458e6933"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6936"><a name="d9458e6936"><!----></a><a name="d9458e6937"><!----></a>Â </td><td id="d9458e6939"><a name="d9458e6939"><!----></a><a name="d9458e6940"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6943"><a name="d9458e6943"><!----></a><a name="d9458e6944"><!----></a>Whether to expand the macro definitions in text nodes.</td></tr><tr id="d9458e6946"><td id="d9458e6947"><a name="d9458e6947"><!----></a><a name="d9458e6948"><!----></a><code class="code code-width-limited">macrodefs</code></td><td id="d9458e6951"><a name="d9458e6951"><!----></a><a name="d9458e6952"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)*</code></td><td id="d9458e6955"><a name="d9458e6955"><!----></a><a name="d9458e6956"><!----></a>Â </td><td id="d9458e6958"><a name="d9458e6958"><!----></a><a name="d9458e6959"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e6962"><a name="d9458e6962"><!----></a><a name="d9458e6963"><!----></a>Any initial macro definitions.</td></tr><tr id="d9458e6965"><td id="d9458e6966"><a name="d9458e6966"><!----></a><a name="d9458e6967"><!----></a><code class="code code-width-limited">use-local-macrodefs</code></td><td id="d9458e6970"><a name="d9458e6970"><!----></a><a name="d9458e6971"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6974"><a name="d9458e6974"><!----></a><a name="d9458e6975"><!----></a>Â </td><td id="d9458e6977"><a name="d9458e6977"><!----></a><a name="d9458e6978"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6981"><a name="d9458e6981"><!----></a><a name="d9458e6982"><!----></a>Check for <code class="code">&lt;*:macrodefs&gt;</code> element as first child and process accordingly</td></tr><tr id="d9458e6987"><td id="d9458e6988"><a name="d9458e6988"><!----></a><a name="d9458e6989"><!----></a><code class="code code-width-limited">use-standard-macrodefs</code></td><td id="d9458e6992"><a name="d9458e6992"><!----></a><a name="d9458e6993"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6996"><a name="d9458e6996"><!----></a><a name="d9458e6997"><!----></a>Â </td><td id="d9458e6999"><a name="d9458e6999"><!----></a><a name="d9458e7000"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7003"><a name="d9458e7003"><!----></a><a name="d9458e7004"><!----></a>Whether to use the standard macro definitions.</td></tr></tbody></table></div></div><div class="sect1" id="recursive-directory-list.xpl"><a name="recursive-directory-list.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.4</span> XProc (3.0) pipeline: <code class="code">recursive-directory-list.xpl</code></h2><p class="para keep-with-next" id="d9458e7011"><a name="d9458e7011"><!----></a>File: <code class="code">xpl3mod/recursive-directory-list/recursive-directory-list.xpl</code></p><p class="para" id="d9458e7015"><a name="d9458e7015"><!----></a>Type: <code class="code">xtlc:recursive-directory-list</code></p><p class="para" id="d9458e7019"><a name="d9458e7019"><!----></a>Extension of standard the <code class="code">p:directory</code> list step. Returns the contents of a directory, going into sub-directories recursively. Adds the possibility to "flatten" the list.</p><p class="para" id="d9458e7024"><a name="d9458e7024"><!----></a>This step will also <span class="emphasis italic">not</span> throw an error when the directory does not exist. Instead it will simply return an empty result (with an <code class="code">error="true</code> attribute).</p><div class="table nonumber" id="d9458e7032"><a name="d9458e7032"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7039" class="thead-light"><tr id="d9458e7040"><th id="d9458e7041"><a name="d9458e7041"><!----></a>Port</th><th id="d9458e7043"><a name="d9458e7043"><!----></a>Type</th><th id="d9458e7045"><a name="d9458e7045"><!----></a>Primary?</th><th id="d9458e7047"><a name="d9458e7047"><!----></a>Description</th></tr></thead><tbody id="d9458e7049"><tr id="d9458e7050"><td id="d9458e7051"><a name="d9458e7051"><!----></a><a name="d9458e7052"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7055"><a name="d9458e7055"><!----></a>out</td><td id="d9458e7057"><a name="d9458e7057"><!----></a>yes</td><td id="d9458e7059"><a name="d9458e7059"><!----></a><a name="d9458e7060"><!----></a>The resulting directory structure in XML format. See the standard <code class="code">p:directory-list</code> step for a more detailed description.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7065"><a name="d9458e7065"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7073" class="thead-light"><tr id="d9458e7074"><th id="d9458e7075"><a name="d9458e7075"><!----></a>Option</th><th id="d9458e7077"><a name="d9458e7077"><!----></a>Type</th><th id="d9458e7079"><a name="d9458e7079"><!----></a>Rq?</th><th id="d9458e7081"><a name="d9458e7081"><!----></a>Default</th><th id="d9458e7083"><a name="d9458e7083"><!----></a>Description</th></tr></thead><tbody id="d9458e7085"><tr id="d9458e7086"><td id="d9458e7087"><a name="d9458e7087"><!----></a><a name="d9458e7088"><!----></a><code class="code code-width-limited">add-decoded</code></td><td id="d9458e7091"><a name="d9458e7091"><!----></a><a name="d9458e7092"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7095"><a name="d9458e7095"><!----></a><a name="d9458e7096"><!----></a>Â </td><td id="d9458e7098"><a name="d9458e7098"><!----></a><a name="d9458e7099"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7102"><a name="d9458e7102"><!----></a><a name="d9458e7103"><!----></a>When <code class="code">true</code> and <code class="code">$flatten</code> is <code class="code">true</code>, attributes <code class="code">@href-rel-decoded</code> and <code class="code">@href-abs-decoded</code> are added in which any percent encoded characters are decoded.</td></tr><tr id="d9458e7120"><td id="d9458e7121"><a name="d9458e7121"><!----></a><a name="d9458e7122"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e7125"><a name="d9458e7125"><!----></a><a name="d9458e7126"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7129"><a name="d9458e7129"><!----></a><a name="d9458e7130"><!----></a>Â </td><td id="d9458e7132"><a name="d9458e7132"><!----></a><a name="d9458e7133"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e7136"><a name="d9458e7136"><!----></a><a name="d9458e7137"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e7142"><td id="d9458e7143"><a name="d9458e7143"><!----></a><a name="d9458e7144"><!----></a><code class="code code-width-limited">detailed</code></td><td id="d9458e7147"><a name="d9458e7147"><!----></a><a name="d9458e7148"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7151"><a name="d9458e7151"><!----></a><a name="d9458e7152"><!----></a>Â </td><td id="d9458e7154"><a name="d9458e7154"><!----></a><a name="d9458e7155"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7158"><a name="d9458e7158"><!----></a><a name="d9458e7159"><!----></a>Whether to add detailed information.</td></tr><tr id="d9458e7161"><td id="d9458e7162"><a name="d9458e7162"><!----></a><a name="d9458e7163"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e7166"><a name="d9458e7166"><!----></a><a name="d9458e7167"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7170"><a name="d9458e7170"><!----></a><a name="d9458e7171"><!----></a>Â </td><td id="d9458e7173"><a name="d9458e7173"><!----></a><a name="d9458e7174"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e7177"><a name="d9458e7177"><!----></a><a name="d9458e7178"><!----></a>Optional regular expression exclude filters. By default, git directories are excluded.</td></tr><tr id="d9458e7180"><td id="d9458e7181"><a name="d9458e7181"><!----></a><a name="d9458e7182"><!----></a><code class="code code-width-limited">flatten</code></td><td id="d9458e7185"><a name="d9458e7185"><!----></a><a name="d9458e7186"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7189"><a name="d9458e7189"><!----></a><a name="d9458e7190"><!----></a>Â </td><td id="d9458e7192"><a name="d9458e7192"><!----></a><a name="d9458e7193"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7196"><a name="d9458e7196"><!----></a><a name="d9458e7197"><!----></a>When <code class="code">true</code>, the list will be "flattened": All <code class="code">c:file</code> children will be direct children of the root's <code class="code">c:directory</code> element. These <code class="code">c:file</code> elements get a <code class="code">@name</code>, <code class="code">@href-abs</code> (absolute filename) and <code class="code">@href-rel</code> (relative filename) attribute.</td></tr><tr id="d9458e7221"><td id="d9458e7222"><a name="d9458e7222"><!----></a><a name="d9458e7223"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e7226"><a name="d9458e7226"><!----></a><a name="d9458e7227"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7230"><a name="d9458e7230"><!----></a><a name="d9458e7231"><!----></a>Â </td><td id="d9458e7233"><a name="d9458e7233"><!----></a><a name="d9458e7234"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7236"><a name="d9458e7236"><!----></a><a name="d9458e7237"><!----></a>Optional regular expression include filters.</td></tr><tr id="d9458e7239"><td id="d9458e7240"><a name="d9458e7240"><!----></a><a name="d9458e7241"><!----></a><code class="code code-width-limited">override-content-types</code></td><td id="d9458e7244"><a name="d9458e7244"><!----></a><a name="d9458e7245"><!----></a><code class="code code-width-limited">array(array(xs:string))?</code></td><td id="d9458e7248"><a name="d9458e7248"><!----></a><a name="d9458e7249"><!----></a>Â </td><td id="d9458e7251"><a name="d9458e7251"><!----></a><a name="d9458e7252"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7255"><a name="d9458e7255"><!----></a><a name="d9458e7256"><!----></a>Override content types specification (see description of <code class="code">p:directory-list</code>).</td></tr><tr id="d9458e7261"><td id="d9458e7262"><a name="d9458e7262"><!----></a><a name="d9458e7263"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e7266"><a name="d9458e7266"><!----></a><a name="d9458e7267"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7270"><a name="d9458e7270"><!----></a><a name="d9458e7271"><!----></a>yes</td><td id="d9458e7273"><a name="d9458e7273"><!----></a><a name="d9458e7274"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7276"><a name="d9458e7276"><!----></a><a name="d9458e7277"><!----></a>The path to get the directory listing from.</td></tr></tbody></table></div></div><div class="sect1" id="subdir-list.xpl"><a name="subdir-list.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.5</span> XProc (3.0) pipeline: <code class="code">subdir-list.xpl</code></h2><p class="para keep-with-next" id="d9458e7284"><a name="d9458e7284"><!----></a>File: <code class="code">xpl3mod/subdir-list/subdir-list.xpl</code></p><p class="para" id="d9458e7288"><a name="d9458e7288"><!----></a>Type: <code class="code">xtlc:subdir-list</code></p><p class="para" id="d9458e7292"><a name="d9458e7292"><!----></a>Returns an XML document with the sub-directories of a given directory.</p><div class="programlisting" id="d9458e7294"><a name="d9458e7294"><!----></a><pre class="programlisting">&lt;subdir-list href="..."&gt;
  &lt;subdir href="..." name="..."/&gt;
  ...
&lt;/subdir-list&gt;</pre></div><p class="para" id="d9458e7296"><a name="d9458e7296"><!----></a>If an error occurs, it will only return the root element with an additional error="true" attribute. Will not recurse!</p><div class="table nonumber" id="d9458e7298"><a name="d9458e7298"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7305" class="thead-light"><tr id="d9458e7306"><th id="d9458e7307"><a name="d9458e7307"><!----></a>Port</th><th id="d9458e7309"><a name="d9458e7309"><!----></a>Type</th><th id="d9458e7311"><a name="d9458e7311"><!----></a>Primary?</th><th id="d9458e7313"><a name="d9458e7313"><!----></a>Description</th></tr></thead><tbody id="d9458e7315"><tr id="d9458e7316"><td id="d9458e7317"><a name="d9458e7317"><!----></a><a name="d9458e7318"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7321"><a name="d9458e7321"><!----></a>out</td><td id="d9458e7323"><a name="d9458e7323"><!----></a>yes</td><td id="d9458e7325"><a name="d9458e7325"><!----></a><a name="d9458e7326"><!----></a>The sub-directory listing (as described above).</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7328"><a name="d9458e7328"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7336" class="thead-light"><tr id="d9458e7337"><th id="d9458e7338"><a name="d9458e7338"><!----></a>Option</th><th id="d9458e7340"><a name="d9458e7340"><!----></a>Type</th><th id="d9458e7342"><a name="d9458e7342"><!----></a>Rq?</th><th id="d9458e7344"><a name="d9458e7344"><!----></a>Default</th><th id="d9458e7346"><a name="d9458e7346"><!----></a>Description</th></tr></thead><tbody id="d9458e7348"><tr id="d9458e7349"><td id="d9458e7350"><a name="d9458e7350"><!----></a><a name="d9458e7351"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e7354"><a name="d9458e7354"><!----></a><a name="d9458e7355"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7358"><a name="d9458e7358"><!----></a><a name="d9458e7359"><!----></a>yes</td><td id="d9458e7361"><a name="d9458e7361"><!----></a><a name="d9458e7362"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7364"><a name="d9458e7364"><!----></a><a name="d9458e7365"><!----></a>The path to get the sub-directories from. Always use an absolute path!</td></tr></tbody></table></div></div><div class="sect1" id="validate.xpl"><a name="validate.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.6</span> XProc (3.0) pipeline: <code class="code">validate.xpl</code></h2><p class="para keep-with-next" id="d9458e7373"><a name="d9458e7373"><!----></a>File: <code class="code">xpl3mod/validate/validate.xpl</code></p><p class="para" id="d9458e7377"><a name="d9458e7377"><!----></a>Type: <code class="code">xtlc:validate</code></p><p class="para" id="d9458e7381"><a name="d9458e7381"><!----></a>This step performs validation using a W3C Schema and/or Schematron. It breaks the processing if something is wrong.</p><p class="para" id="d9458e7383"><a name="d9458e7383"><!----></a>This might seem superfluous (there are already <code class="code">p:validate-with...</code> steps), but often these steps <span class="emphasis italic">change</span> the document. This step performs like a real identity step.</p><div class="table nonumber" id="d9458e7391"><a name="d9458e7391"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7398" class="thead-light"><tr id="d9458e7399"><th id="d9458e7400"><a name="d9458e7400"><!----></a>Port</th><th id="d9458e7402"><a name="d9458e7402"><!----></a>Type</th><th id="d9458e7404"><a name="d9458e7404"><!----></a>Primary?</th><th id="d9458e7406"><a name="d9458e7406"><!----></a>Description</th></tr></thead><tbody id="d9458e7408"><tr id="d9458e7409"><td id="d9458e7410"><a name="d9458e7410"><!----></a><a name="d9458e7411"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e7414"><a name="d9458e7414"><!----></a>in</td><td id="d9458e7416"><a name="d9458e7416"><!----></a>yes</td><td id="d9458e7418"><a name="d9458e7418"><!----></a><a name="d9458e7419"><!----></a>Document to validate.</td></tr><tr id="d9458e7421"><td id="d9458e7422"><a name="d9458e7422"><!----></a><a name="d9458e7423"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7426"><a name="d9458e7426"><!----></a>out</td><td id="d9458e7428"><a name="d9458e7428"><!----></a>yes</td><td id="d9458e7430"><a name="d9458e7430"><!----></a><a name="d9458e7431"><!----></a>The same as the input document.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7433"><a name="d9458e7433"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7441" class="thead-light"><tr id="d9458e7442"><th id="d9458e7443"><a name="d9458e7443"><!----></a>Option</th><th id="d9458e7445"><a name="d9458e7445"><!----></a>Type</th><th id="d9458e7447"><a name="d9458e7447"><!----></a>Rq?</th><th id="d9458e7449"><a name="d9458e7449"><!----></a>Default</th><th id="d9458e7451"><a name="d9458e7451"><!----></a>Description</th></tr></thead><tbody id="d9458e7453"><tr id="d9458e7454"><td id="d9458e7455"><a name="d9458e7455"><!----></a><a name="d9458e7456"><!----></a><code class="code code-width-limited">href-schema</code></td><td id="d9458e7459"><a name="d9458e7459"><!----></a><a name="d9458e7460"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d9458e7463"><a name="d9458e7463"><!----></a><a name="d9458e7464"><!----></a>Â </td><td id="d9458e7466"><a name="d9458e7466"><!----></a><a name="d9458e7467"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7470"><a name="d9458e7470"><!----></a><a name="d9458e7471"><!----></a>Optional reference to an W3C Schema to validate the document with. If <code class="code">()</code>, no schema validation will be performed.</td></tr><tr id="d9458e7476"><td id="d9458e7477"><a name="d9458e7477"><!----></a><a name="d9458e7478"><!----></a><code class="code code-width-limited">href-schematron</code></td><td id="d9458e7481"><a name="d9458e7481"><!----></a><a name="d9458e7482"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d9458e7485"><a name="d9458e7485"><!----></a><a name="d9458e7486"><!----></a>Â </td><td id="d9458e7488"><a name="d9458e7488"><!----></a><a name="d9458e7489"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7492"><a name="d9458e7492"><!----></a><a name="d9458e7493"><!----></a>Optional reference to a Schematron Schema to validate the document with. If <code class="code">()</code>, no Schematron validation will be performed.</td></tr><tr id="d9458e7498"><td id="d9458e7499"><a name="d9458e7499"><!----></a><a name="d9458e7500"><!----></a><code class="code code-width-limited">schema-version</code></td><td id="d9458e7503"><a name="d9458e7503"><!----></a><a name="d9458e7504"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7507"><a name="d9458e7507"><!----></a><a name="d9458e7508"><!----></a>Â </td><td id="d9458e7510"><a name="d9458e7510"><!----></a><a name="d9458e7511"><!----></a><code class="code code-width-limited">'1.0'</code></td><td id="d9458e7514"><a name="d9458e7514"><!----></a><a name="d9458e7515"><!----></a>The W3C Schema version to use.</td></tr><tr id="d9458e7517"><td id="d9458e7518"><a name="d9458e7518"><!----></a><a name="d9458e7519"><!----></a><code class="code code-width-limited">simplify-error-messages</code></td><td id="d9458e7522"><a name="d9458e7522"><!----></a><a name="d9458e7523"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7526"><a name="d9458e7526"><!----></a><a name="d9458e7527"><!----></a>Â </td><td id="d9458e7529"><a name="d9458e7529"><!----></a><a name="d9458e7530"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7533"><a name="d9458e7533"><!----></a><a name="d9458e7534"><!----></a>Whether to simplify the error messages. Only output the first error.</td></tr></tbody></table></div></div><div class="sect1" id="write-log.xpl"><a name="write-log.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.7</span> XProc (3.0) pipeline: <code class="code">write-log.xpl</code></h2><p class="para keep-with-next" id="d9458e7541"><a name="d9458e7541"><!----></a>File: <code class="code">xpl3mod/write-log/write-log.xpl</code></p><p class="para" id="d9458e7545"><a name="d9458e7545"><!----></a>Type: <code class="code">xtlc:write-log</code></p><p class="para" id="d9458e7549"><a name="d9458e7549"><!----></a>Writes an entry to a log file.</p><p class="para" id="d9458e7551"><a name="d9458e7551"><!----></a>With regards to documents flowing through, acts like a <code class="code">p:identity</code> step.</p><div class="table nonumber" id="d9458e7556"><a name="d9458e7556"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7563" class="thead-light"><tr id="d9458e7564"><th id="d9458e7565"><a name="d9458e7565"><!----></a>Port</th><th id="d9458e7567"><a name="d9458e7567"><!----></a>Type</th><th id="d9458e7569"><a name="d9458e7569"><!----></a>Primary?</th><th id="d9458e7571"><a name="d9458e7571"><!----></a>Description</th></tr></thead><tbody id="d9458e7573"><tr id="d9458e7574"><td id="d9458e7575"><a name="d9458e7575"><!----></a><a name="d9458e7576"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e7579"><a name="d9458e7579"><!----></a>in</td><td id="d9458e7581"><a name="d9458e7581"><!----></a>yes</td><td id="d9458e7583"><a name="d9458e7583"><!----></a><a name="d9458e7584"><!----></a>Documents will be passed unchanged to the <code class="code">result</code> port.</td></tr><tr id="d9458e7589"><td id="d9458e7590"><a name="d9458e7590"><!----></a><a name="d9458e7591"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7594"><a name="d9458e7594"><!----></a>out</td><td id="d9458e7596"><a name="d9458e7596"><!----></a>yes</td><td id="d9458e7598"><a name="d9458e7598"><!----></a><a name="d9458e7599"><!----></a>Documents coming from the <code class="code">source</code> port, unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7604"><a name="d9458e7604"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7612" class="thead-light"><tr id="d9458e7613"><th id="d9458e7614"><a name="d9458e7614"><!----></a>Option</th><th id="d9458e7616"><a name="d9458e7616"><!----></a>Type</th><th id="d9458e7618"><a name="d9458e7618"><!----></a>Rq?</th><th id="d9458e7620"><a name="d9458e7620"><!----></a>Default</th><th id="d9458e7622"><a name="d9458e7622"><!----></a>Description</th></tr></thead><tbody id="d9458e7624"><tr id="d9458e7625"><td id="d9458e7626"><a name="d9458e7626"><!----></a><a name="d9458e7627"><!----></a><code class="code code-width-limited">additional-attributes</code></td><td id="d9458e7630"><a name="d9458e7630"><!----></a><a name="d9458e7631"><!----></a><code class="code code-width-limited">map(xs:QName, xs:string)?</code></td><td id="d9458e7634"><a name="d9458e7634"><!----></a><a name="d9458e7635"><!----></a>Â </td><td id="d9458e7637"><a name="d9458e7637"><!----></a><a name="d9458e7638"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7641"><a name="d9458e7641"><!----></a><a name="d9458e7642"><!----></a>A map with additional attributes to add to the log entry's <code class="code">entry</code> element.</td></tr><tr id="d9458e7647"><td id="d9458e7648"><a name="d9458e7648"><!----></a><a name="d9458e7649"><!----></a><code class="code code-width-limited">additional-elements</code></td><td id="d9458e7652"><a name="d9458e7652"><!----></a><a name="d9458e7653"><!----></a><code class="code code-width-limited">element()*</code></td><td id="d9458e7656"><a name="d9458e7656"><!----></a><a name="d9458e7657"><!----></a>Â </td><td id="d9458e7659"><a name="d9458e7659"><!----></a><a name="d9458e7660"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7663"><a name="d9458e7663"><!----></a><a name="d9458e7664"><!----></a>Elements with additional information to add to this log entry.</td></tr><tr id="d9458e7666"><td id="d9458e7667"><a name="d9458e7667"><!----></a><a name="d9458e7668"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e7671"><a name="d9458e7671"><!----></a><a name="d9458e7672"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7675"><a name="d9458e7675"><!----></a><a name="d9458e7676"><!----></a>Â </td><td id="d9458e7678"><a name="d9458e7678"><!----></a><a name="d9458e7679"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7682"><a name="d9458e7682"><!----></a><a name="d9458e7683"><!----></a>Whether the logging will be done at all.</td></tr><tr id="d9458e7685"><td id="d9458e7686"><a name="d9458e7686"><!----></a><a name="d9458e7687"><!----></a><code class="code code-width-limited">enable-debug-messages</code></td><td id="d9458e7690"><a name="d9458e7690"><!----></a><a name="d9458e7691"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7694"><a name="d9458e7694"><!----></a><a name="d9458e7695"><!----></a>Â </td><td id="d9458e7697"><a name="d9458e7697"><!----></a><a name="d9458e7698"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7701"><a name="d9458e7701"><!----></a><a name="d9458e7702"><!----></a>Whether messages with debug status will be written as well.</td></tr><tr id="d9458e7704"><td id="d9458e7705"><a name="d9458e7705"><!----></a><a name="d9458e7706"><!----></a><code class="code code-width-limited">href-log</code></td><td id="d9458e7709"><a name="d9458e7709"><!----></a><a name="d9458e7710"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7713"><a name="d9458e7713"><!----></a><a name="d9458e7714"><!----></a>yes</td><td id="d9458e7716"><a name="d9458e7716"><!----></a><a name="d9458e7717"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7719"><a name="d9458e7719"><!----></a><a name="d9458e7720"><!----></a>URI of the file to write the log entries to.</td></tr><tr id="d9458e7722"><td id="d9458e7723"><a name="d9458e7723"><!----></a><a name="d9458e7724"><!----></a><code class="code code-width-limited">keep-entries</code></td><td id="d9458e7727"><a name="d9458e7727"><!----></a><a name="d9458e7728"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7731"><a name="d9458e7731"><!----></a><a name="d9458e7732"><!----></a>Â </td><td id="d9458e7734"><a name="d9458e7734"><!----></a><a name="d9458e7735"><!----></a><code class="code code-width-limited">0</code></td><td id="d9458e7738"><a name="d9458e7738"><!----></a><a name="d9458e7739"><!----></a>The number of entries to keep in the logfile. If le <code class="code">0</code>, all messages are kept.</td></tr><tr id="d9458e7744"><td id="d9458e7745"><a name="d9458e7745"><!----></a><a name="d9458e7746"><!----></a><code class="code code-width-limited">log-comments</code></td><td id="d9458e7749"><a name="d9458e7749"><!----></a><a name="d9458e7750"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7753"><a name="d9458e7753"><!----></a><a name="d9458e7754"><!----></a>Â </td><td id="d9458e7756"><a name="d9458e7756"><!----></a><a name="d9458e7757"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7760"><a name="d9458e7760"><!----></a><a name="d9458e7761"><!----></a>Any comments to write as file header when creating a new log file. Ignored on an existing log file.</td></tr><tr id="d9458e7763"><td id="d9458e7764"><a name="d9458e7764"><!----></a><a name="d9458e7765"><!----></a><code class="code code-width-limited">messages</code></td><td id="d9458e7768"><a name="d9458e7768"><!----></a><a name="d9458e7769"><!----></a><code class="code code-width-limited">xs:string+</code></td><td id="d9458e7772"><a name="d9458e7772"><!----></a><a name="d9458e7773"><!----></a>yes</td><td id="d9458e7775"><a name="d9458e7775"><!----></a><a name="d9458e7776"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7778"><a name="d9458e7778"><!----></a><a name="d9458e7779"><!----></a>The actual texts/lines of the log entry to write. All will become a separate <code class="code">message</code> element.</td></tr><tr id="d9458e7784"><td id="d9458e7785"><a name="d9458e7785"><!----></a><a name="d9458e7786"><!----></a><code class="code code-width-limited">status</code></td><td id="d9458e7789"><a name="d9458e7789"><!----></a><a name="d9458e7790"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7793"><a name="d9458e7793"><!----></a><a name="d9458e7794"><!----></a>Â </td><td id="d9458e7796"><a name="d9458e7796"><!----></a><a name="d9458e7797"><!----></a><code class="code code-width-limited">'info'</code></td><td id="d9458e7800"><a name="d9458e7800"><!----></a><a name="d9458e7801"><!----></a>Status of the entry. Must be <code class="code">info</code>, <code class="code">warning</code>, <code class="code">error</code> or <code class="code">debug</code>.</td></tr></tbody></table></div></div><div class="sect1" id="zip-directory.xpl"><a name="zip-directory.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.8</span> XProc (3.0) pipeline: <code class="code">zip-directory.xpl</code></h2><p class="para keep-with-next" id="d9458e7820"><a name="d9458e7820"><!----></a>File: <code class="code">xpl3mod/zip-directory/zip-directory.xpl</code></p><p class="para" id="d9458e7824"><a name="d9458e7824"><!----></a>Type: <code class="code">xtlc:zip-directory</code></p><p class="para" id="d9458e7828"><a name="d9458e7828"><!----></a>Zips a directory into a single zip file.</p><div class="table nonumber" id="d9458e7830"><a name="d9458e7830"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7837" class="thead-light"><tr id="d9458e7838"><th id="d9458e7839"><a name="d9458e7839"><!----></a>Port</th><th id="d9458e7841"><a name="d9458e7841"><!----></a>Type</th><th id="d9458e7843"><a name="d9458e7843"><!----></a>Primary?</th><th id="d9458e7845"><a name="d9458e7845"><!----></a>Description</th></tr></thead><tbody id="d9458e7847"><tr id="d9458e7848"><td id="d9458e7849"><a name="d9458e7849"><!----></a><a name="d9458e7850"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7853"><a name="d9458e7853"><!----></a>out</td><td id="d9458e7855"><a name="d9458e7855"><!----></a>yes</td><td id="d9458e7857"><a name="d9458e7857"><!----></a><a name="d9458e7858"><!----></a>The archive manifest of the created zip file.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7860"><a name="d9458e7860"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7868" class="thead-light"><tr id="d9458e7869"><th id="d9458e7870"><a name="d9458e7870"><!----></a>Option</th><th id="d9458e7872"><a name="d9458e7872"><!----></a>Type</th><th id="d9458e7874"><a name="d9458e7874"><!----></a>Rq?</th><th id="d9458e7876"><a name="d9458e7876"><!----></a>Default</th><th id="d9458e7878"><a name="d9458e7878"><!----></a>Description</th></tr></thead><tbody id="d9458e7880"><tr id="d9458e7881"><td id="d9458e7882"><a name="d9458e7882"><!----></a><a name="d9458e7883"><!----></a><code class="code code-width-limited">base-path</code></td><td id="d9458e7886"><a name="d9458e7886"><!----></a><a name="d9458e7887"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7890"><a name="d9458e7890"><!----></a><a name="d9458e7891"><!----></a>yes</td><td id="d9458e7893"><a name="d9458e7893"><!----></a><a name="d9458e7894"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7896"><a name="d9458e7896"><!----></a><a name="d9458e7897"><!----></a>URI of the directory which contents will be stored in the zip.</td></tr><tr id="d9458e7899"><td id="d9458e7900"><a name="d9458e7900"><!----></a><a name="d9458e7901"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e7904"><a name="d9458e7904"><!----></a><a name="d9458e7905"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7908"><a name="d9458e7908"><!----></a><a name="d9458e7909"><!----></a>Â </td><td id="d9458e7911"><a name="d9458e7911"><!----></a><a name="d9458e7912"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e7915"><a name="d9458e7915"><!----></a><a name="d9458e7916"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e7921"><td id="d9458e7922"><a name="d9458e7922"><!----></a><a name="d9458e7923"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e7926"><a name="d9458e7926"><!----></a><a name="d9458e7927"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7930"><a name="d9458e7930"><!----></a><a name="d9458e7931"><!----></a>Â </td><td id="d9458e7933"><a name="d9458e7933"><!----></a><a name="d9458e7934"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e7937"><a name="d9458e7937"><!----></a><a name="d9458e7938"><!----></a>Optional regular expression exclude filters. By default, git directories are excluded.</td></tr><tr id="d9458e7940"><td id="d9458e7941"><a name="d9458e7941"><!----></a><a name="d9458e7942"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d9458e7945"><a name="d9458e7945"><!----></a><a name="d9458e7946"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7949"><a name="d9458e7949"><!----></a><a name="d9458e7950"><!----></a>yes</td><td id="d9458e7952"><a name="d9458e7952"><!----></a><a name="d9458e7953"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7955"><a name="d9458e7955"><!----></a><a name="d9458e7956"><!----></a>URI for the zip file to produce.</td></tr><tr id="d9458e7958"><td id="d9458e7959"><a name="d9458e7959"><!----></a><a name="d9458e7960"><!----></a><code class="code code-width-limited">include-base</code></td><td id="d9458e7963"><a name="d9458e7963"><!----></a><a name="d9458e7964"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7967"><a name="d9458e7967"><!----></a><a name="d9458e7968"><!----></a>Â </td><td id="d9458e7970"><a name="d9458e7970"><!----></a><a name="d9458e7971"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7974"><a name="d9458e7974"><!----></a><a name="d9458e7975"><!----></a>When true, the last part of <code class="code">$base-path</code> (for instance <code class="code">a/b/c</code> ==&gt; <code class="code">c</code>) is used as root directory for entries in the zip file.</td></tr><tr id="d9458e7986"><td id="d9458e7987"><a name="d9458e7987"><!----></a><a name="d9458e7988"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e7991"><a name="d9458e7991"><!----></a><a name="d9458e7992"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7995"><a name="d9458e7995"><!----></a><a name="d9458e7996"><!----></a>Â </td><td id="d9458e7998"><a name="d9458e7998"><!----></a><a name="d9458e7999"><!----></a><code class="code code-width-limited"/></td><td id="d9458e8001"><a name="d9458e8001"><!----></a><a name="d9458e8002"><!----></a>Optional regular expression include filters.</td></tr></tbody></table></div></div><div class="sect1" id="d9458e8007"><a name="d9458e8007"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.9</span> oXygen XProc 3.0 support (oXygen versions &lt;Â 26)</h2><p class="para" id="d9458e8012"><a name="d9458e8012"><!----></a>oXygen versions &lt;Â 26 had nor editing support for XProc 3.0. The component contains an oXygen framework that enables validating XProc
        3.0 documents. To use this:</p><ul class="itemizedlist" id="d9458e8015"><a name="d9458e8015"><!----></a><li id="d9458e8017"><a name="d9458e8017"><!----></a><p class="para" id="d9458e8019"><a name="d9458e8019"><!----></a>Add the framework to the oXygen configuration:</p><ul class="itemizedlist" id="d9458e8022"><a name="d9458e8022"><!----></a><li id="d9458e8024"><a name="d9458e8024"><!----></a><p class="para" id="d9458e8026"><a name="d9458e8026"><!----></a>Menu: Options / Preferencesâ¦</p></li><li id="d9458e8030"><a name="d9458e8030"><!----></a><p class="para" id="d9458e8032"><a name="d9458e8032"><!----></a>Navigate to: Document Type Association / Locations</p></li><li id="d9458e8036"><a name="d9458e8036"><!----></a><p class="para" id="d9458e8038"><a name="d9458e8038"><!----></a>Add the full path to <code class="code">xtpxlib-common/frameworks</code></p></li><li id="d9458e8044"><a name="d9458e8044"><!----></a><p class="para" id="d9458e8046"><a name="d9458e8046"><!----></a>Navigate on up to: Document Type Association</p></li><li id="d9458e8050"><a name="d9458e8050"><!----></a><p class="para" id="d9458e8052"><a name="d9458e8052"><!----></a>Check that the XProc 3.0 framework is enabled</p></li></ul></li><li id="d9458e8058"><a name="d9458e8058"><!----></a><p class="para" id="d9458e8060"><a name="d9458e8060"><!----></a>Disable the use of the XProc 1.0 support in oXygen. To do this:</p><ul class="itemizedlist" id="d9458e8063"><a name="d9458e8063"><!----></a><li id="d9458e8065"><a name="d9458e8065"><!----></a><p class="para" id="d9458e8067"><a name="d9458e8067"><!----></a>Menu: Options / Preferencesâ¦</p></li><li id="d9458e8071"><a name="d9458e8071"><!----></a><p class="para" id="d9458e8073"><a name="d9458e8073"><!----></a>Navigate to: File types</p></li><li id="d9458e8077"><a name="d9458e8077"><!----></a><p class="para" id="d9458e8079"><a name="d9458e8079"><!----></a>Associate the file types that you use for XProc 3.0 (in my case <code class="code">.xpl</code> files) with the plain XML editor</p></li></ul></li></ul></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>