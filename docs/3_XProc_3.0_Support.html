<?xml version="1.0" encoding="UTF-8"?>
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xtlcon="http://www.xtpxlib.nl/ns/container">
  
  
  
  
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="resources/bootstrap.min.css"/>
    <link rel="stylesheet" href="resources/xtpxlib-moduledoc.css"/>
    <link rel="shortcut icon" href="resources/favicon.ico"/>
    <title>3 XProc 3.0 Support</title>
  </head>
  <body style="padding-top: 65px;"><nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark"><a class="navbar-brand" href="index.html" title="home">xtpxlib-common</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"/></button><div id="navbarSupportedContent" class="collapse navbar-collapse"><ul class="navbar-nav mr-auto"><li class="nav-item dropdown"><a href="1_Description.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Description <span class="caret"/></a><div class="dropdown-menu"><a href="1_Description.html" class="dropdown-item">Description</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="1_Description.html#d9458e197">Contents</a><a class="dropdown-item" href="1_Description.html#parameters-explanation">Parameter handling in xtpxlib-common</a></div></li><li class="nav-item dropdown"><a href="2_XSLT_Modules.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Modules <span class="caret"/></a><div class="dropdown-menu"><a href="2_XSLT_Modules.html" class="dropdown-item">XSLT Modules</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="2_XSLT_Modules.html#compare.mod.xsl">XSLT (3.0): compare.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#date-time.mod.xsl">XSLT (3.0): date-time.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#format-output.mod.xsl">XSLT (3.0): format-output.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#general.mod.xsl">XSLT (3.0): general.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#href.mod.xsl">XSLT (3.0): href.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#macrodefs.mod.xsl">XSLT (3.0): macrodefs.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#message.mod.xsl">XSLT (3.0): message.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#mimetypes.mod.xsl">XSLT (3.0): mimetypes.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#parameters.mod.xsl">XSLT (3.0): parameters.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#simple-macros.mod.xsl">XSLT (3.0): simple-macros.mod.xsl</a><a class="dropdown-item" href="2_XSLT_Modules.html#uuid.mod.xsl">XSLT (3.0): uuid.mod.xsl</a></div></li><li class="nav-item dropdown"><a href="3_XProc_3.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 3.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="3_XProc_3.0_Support.html" class="dropdown-item">XProc 3.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="3_XProc_3.0_Support.html#copy-dir.xpl">XProc (3.0) pipeline: copy-dir.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#create-clear-directory.xpl">XProc (3.0) pipeline: create-clear-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#expand-macro-definitions.xpl">XProc (3.0) pipeline: expand-macro-definitions.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#recursive-directory-list.xpl">XProc (3.0) pipeline: recursive-directory-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#subdir-list.xpl">XProc (3.0) pipeline: subdir-list.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#validate.xpl">XProc (3.0) pipeline: validate.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#write-log.xpl">XProc (3.0) pipeline: write-log.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#zip-directory.xpl">XProc (3.0) pipeline: zip-directory.xpl</a><a class="dropdown-item" href="3_XProc_3.0_Support.html#d9458e8004">oXygen XProc 3.0 support (oXygen versions &lt;Â 26)</a></div></li><li class="nav-item dropdown"><a href="4_XProc_1.0_Support.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XProc 1.0 Support <span class="caret"/></a><div class="dropdown-menu"><a href="4_XProc_1.0_Support.html" class="dropdown-item">XProc 1.0 Support</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="4_XProc_1.0_Support.html#common.mod.xpl">XProc (1.0) library: common.mod.xpl</a></div></li><li class="nav-item dropdown"><a href="5_XSLT_Stylesheets.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XSLT Stylesheets <span class="caret"/></a><div class="dropdown-menu"><a href="5_XSLT_Stylesheets.html" class="dropdown-item">XSLT Stylesheets</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="5_XSLT_Stylesheets.html#expand-macro-definitions.xsl">XSLT (3.0): expand-macro-definitions.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#get-system-properties.xsl">XSLT (2.0): get-system-properties.xsl</a><a class="dropdown-item" href="5_XSLT_Stylesheets.html#xslmod2xqmod-stub.xsl">XSLT (2.0): xslmod2xqmod-stub.xsl</a></div></li><li class="nav-item dropdown"><a href="6_XML_Data_Files.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Data Files <span class="caret"/></a><div class="dropdown-menu"><a href="6_XML_Data_Files.html" class="dropdown-item">XML Data Files</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="6_XML_Data_Files.html#dummy.xml">XML document: dummy.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#fop-default-config.xml">XML document: fop-default-config.xml</a><a class="dropdown-item" href="6_XML_Data_Files.html#mimetypes-table.xml">XML document: mimetypes-table.xml</a></div></li><li class="nav-item dropdown"><a href="7_XML_Schemas.html" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">XML Schemas <span class="caret"/></a><div class="dropdown-menu"><a href="7_XML_Schemas.html" class="dropdown-item">XML Schemas</a><div class="dropdown-divider"><!----></div><a class="dropdown-item" href="7_XML_Schemas.html#message.xsd">XML Schema: message.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#mimetypes.xsd">XML Schema: mimetypes.xsd</a><a class="dropdown-item" href="7_XML_Schemas.html#parameters.xsd">XML Schema: parameters.xsd</a></div></li><li class="nav-item"><a class="nav-link" href="resources/xtpxlib-common-documentation.pdf" title="PDF version of this documentation site">PDF</a></li></ul></div></nav><div class="container"><a name="chapter-xproc-3-support"><!----></a><div class="page-header" style="padding-top: 65px; margin-top: -65px;"><h1 class="chapter"><span class="chapter-number">3 </span>XProc 3.0 Support</h1></div><div class="table" id="d9458e6377"><a name="d9458e6377"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6383" class="thead-light"><tr id="d9458e6384"><th id="d9458e6385"><a name="d9458e6385"><!----></a>Module/Pipeline</th><th id="d9458e6387"><a name="d9458e6387"><!----></a>Description</th></tr></thead><tbody id="d9458e6389"><tr id="d9458e6390"><td id="d9458e6391"><a name="d9458e6391"><!----></a><a name="d9458e6392"><!----></a><code class="code code-width-limited"><a href="#copy-dir.xpl"><span class="link">copy-dir.xpl</span></a></code></td><td id="d9458e6396"><a name="d9458e6396"><!----></a><a name="d9458e6397"><!----></a>This step copies a directory and all its contents from one location to the other.</td></tr><tr id="d9458e6399"><td id="d9458e6400"><a name="d9458e6400"><!----></a><a name="d9458e6401"><!----></a><code class="code code-width-limited"><a href="#create-clear-directory.xpl"><span class="link">create-clear-directory.xpl</span></a></code></td><td id="d9458e6405"><a name="d9458e6405"><!----></a><a name="d9458e6406"><!----></a>This step does two things:</td></tr><tr id="d9458e6408"><td id="d9458e6409"><a name="d9458e6409"><!----></a><a name="d9458e6410"><!----></a><code class="code code-width-limited"><a href="#expand-macro-definitions.xpl"><span class="link">expand-macro-definitions.xpl</span></a></code></td><td id="d9458e6414"><a name="d9458e6414"><!----></a><a name="d9458e6415"><!----></a>This is an XProc driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</td></tr><tr id="d9458e6423"><td id="d9458e6424"><a name="d9458e6424"><!----></a><a name="d9458e6425"><!----></a><code class="code code-width-limited"><a href="#recursive-directory-list.xpl"><span class="link">recursive-directory-list.xpl</span></a></code></td><td id="d9458e6429"><a name="d9458e6429"><!----></a><a name="d9458e6430"><!----></a>Extension of standard the <code class="code">p:directory</code> list step. Returns the contents of a directory, going into sub-directories recursively. Adds the possibility to "flatten" the list.</td></tr><tr id="d9458e6435"><td id="d9458e6436"><a name="d9458e6436"><!----></a><a name="d9458e6437"><!----></a><code class="code code-width-limited"><a href="#subdir-list.xpl"><span class="link">subdir-list.xpl</span></a></code></td><td id="d9458e6441"><a name="d9458e6441"><!----></a><a name="d9458e6442"><!----></a>Returns an XML document with the sub-directories of a given directory.</td></tr><tr id="d9458e6444"><td id="d9458e6445"><a name="d9458e6445"><!----></a><a name="d9458e6446"><!----></a><code class="code code-width-limited"><a href="#validate.xpl"><span class="link">validate.xpl</span></a></code></td><td id="d9458e6450"><a name="d9458e6450"><!----></a><a name="d9458e6451"><!----></a>This step performs validation using a W3C Schema and/or Schematron. It breaks the processing if something is wrong.</td></tr><tr id="d9458e6453"><td id="d9458e6454"><a name="d9458e6454"><!----></a><a name="d9458e6455"><!----></a><code class="code code-width-limited"><a href="#write-log.xpl"><span class="link">write-log.xpl</span></a></code></td><td id="d9458e6459"><a name="d9458e6459"><!----></a><a name="d9458e6460"><!----></a>Writes an entry to a log file.</td></tr><tr id="d9458e6462"><td id="d9458e6463"><a name="d9458e6463"><!----></a><a name="d9458e6464"><!----></a><code class="code code-width-limited"><a href="#zip-directory.xpl"><span class="link">zip-directory.xpl</span></a></code></td><td id="d9458e6468"><a name="d9458e6468"><!----></a><a name="d9458e6469"><!----></a>Zips a directory into a single zip file.</td></tr></tbody></table></div><div class="sect1" id="copy-dir.xpl"><a name="copy-dir.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.1</span> XProc (3.0) pipeline: <code class="code">copy-dir.xpl</code></h2><p class="para keep-with-next" id="d9458e6476"><a name="d9458e6476"><!----></a>File: <code class="code">xpl3mod/copy-dir/copy-dir.xpl</code></p><p class="para" id="d9458e6480"><a name="d9458e6480"><!----></a>Type: <code class="code">xtlc:copy-dir</code></p><p class="para" id="d9458e6484"><a name="d9458e6484"><!----></a>This step copies a directory and all its contents from one location to the other.</p><ul class="itemizedlist" id="d9458e6486"><a name="d9458e6486"><!----></a><li id="d9458e6487"><a name="d9458e6487"><!----></a><p class="para" id="d9458e6488"><a name="d9458e6488"><!----></a>If $clear-target is true (default), before copying the target directory is cleared/emptied.</p></li><li id="d9458e6490"><a name="d9458e6490"><!----></a><p class="para" id="d9458e6491"><a name="d9458e6491"><!----></a>If the source directory is empty, it simply creates an empty target directory.</p></li><li id="d9458e6493"><a name="d9458e6493"><!----></a><p class="para" id="d9458e6494"><a name="d9458e6494"><!----></a>It can do include/exclude filtering, like <code class="code">p:directory-list</code></p></li></ul><p class="para" id="d9458e6498"><a name="d9458e6498"><!----></a>The step itself acts as an identity step.</p><div class="table nonumber" id="d9458e6500"><a name="d9458e6500"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6507" class="thead-light"><tr id="d9458e6508"><th id="d9458e6509"><a name="d9458e6509"><!----></a>Port</th><th id="d9458e6511"><a name="d9458e6511"><!----></a>Type</th><th id="d9458e6513"><a name="d9458e6513"><!----></a>Primary?</th><th id="d9458e6515"><a name="d9458e6515"><!----></a>Description</th></tr></thead><tbody id="d9458e6517"><tr id="d9458e6518"><td id="d9458e6519"><a name="d9458e6519"><!----></a><a name="d9458e6520"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6523"><a name="d9458e6523"><!----></a>in</td><td id="d9458e6525"><a name="d9458e6525"><!----></a>yes</td><td id="d9458e6527"><a name="d9458e6527"><!----></a></td></tr><tr id="d9458e6528"><td id="d9458e6529"><a name="d9458e6529"><!----></a><a name="d9458e6530"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6533"><a name="d9458e6533"><!----></a>out</td><td id="d9458e6535"><a name="d9458e6535"><!----></a>yes</td><td id="d9458e6537"><a name="d9458e6537"><!----></a></td></tr></tbody></table></div><div class="table nonumber" id="d9458e6538"><a name="d9458e6538"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6546" class="thead-light"><tr id="d9458e6547"><th id="d9458e6548"><a name="d9458e6548"><!----></a>Option</th><th id="d9458e6550"><a name="d9458e6550"><!----></a>Type</th><th id="d9458e6552"><a name="d9458e6552"><!----></a>Rq?</th><th id="d9458e6554"><a name="d9458e6554"><!----></a>Default</th><th id="d9458e6556"><a name="d9458e6556"><!----></a>Description</th></tr></thead><tbody id="d9458e6558"><tr id="d9458e6559"><td id="d9458e6560"><a name="d9458e6560"><!----></a><a name="d9458e6561"><!----></a><code class="code code-width-limited">clear-target</code></td><td id="d9458e6564"><a name="d9458e6564"><!----></a><a name="d9458e6565"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6568"><a name="d9458e6568"><!----></a><a name="d9458e6569"><!----></a>Â </td><td id="d9458e6571"><a name="d9458e6571"><!----></a><a name="d9458e6572"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6575"><a name="d9458e6575"><!----></a><a name="d9458e6576"><!----></a>Whether to clear the target before copying.</td></tr><tr id="d9458e6578"><td id="d9458e6579"><a name="d9458e6579"><!----></a><a name="d9458e6580"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e6583"><a name="d9458e6583"><!----></a><a name="d9458e6584"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e6587"><a name="d9458e6587"><!----></a><a name="d9458e6588"><!----></a>Â </td><td id="d9458e6590"><a name="d9458e6590"><!----></a><a name="d9458e6591"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e6594"><a name="d9458e6594"><!----></a><a name="d9458e6595"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e6600"><td id="d9458e6601"><a name="d9458e6601"><!----></a><a name="d9458e6602"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e6605"><a name="d9458e6605"><!----></a><a name="d9458e6606"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e6609"><a name="d9458e6609"><!----></a><a name="d9458e6610"><!----></a>Â </td><td id="d9458e6612"><a name="d9458e6612"><!----></a><a name="d9458e6613"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e6616"><a name="d9458e6616"><!----></a><a name="d9458e6617"><!----></a>Regular expression(s) for files to be excluded from the copy. By default, git directories are excluded</td></tr><tr id="d9458e6619"><td id="d9458e6620"><a name="d9458e6620"><!----></a><a name="d9458e6621"><!----></a><code class="code code-width-limited">href-source</code></td><td id="d9458e6624"><a name="d9458e6624"><!----></a><a name="d9458e6625"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6628"><a name="d9458e6628"><!----></a><a name="d9458e6629"><!----></a>yes</td><td id="d9458e6631"><a name="d9458e6631"><!----></a><a name="d9458e6632"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6634"><a name="d9458e6634"><!----></a><a name="d9458e6635"><!----></a>The full path/URI of the source directory. If the directory does not exist, nothing will happen.</td></tr><tr id="d9458e6637"><td id="d9458e6638"><a name="d9458e6638"><!----></a><a name="d9458e6639"><!----></a><code class="code code-width-limited">href-target</code></td><td id="d9458e6642"><a name="d9458e6642"><!----></a><a name="d9458e6643"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6646"><a name="d9458e6646"><!----></a><a name="d9458e6647"><!----></a>yes</td><td id="d9458e6649"><a name="d9458e6649"><!----></a><a name="d9458e6650"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6652"><a name="d9458e6652"><!----></a><a name="d9458e6653"><!----></a>The full path/URI of the target directory. Any non-existing parent directories leading up to this directory will be automatically created.</td></tr><tr id="d9458e6655"><td id="d9458e6656"><a name="d9458e6656"><!----></a><a name="d9458e6657"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e6660"><a name="d9458e6660"><!----></a><a name="d9458e6661"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e6664"><a name="d9458e6664"><!----></a><a name="d9458e6665"><!----></a>Â </td><td id="d9458e6667"><a name="d9458e6667"><!----></a><a name="d9458e6668"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e6671"><a name="d9458e6671"><!----></a><a name="d9458e6672"><!----></a>Regular expression(s) files to be included in the copy.</td></tr></tbody></table></div></div><div class="sect1" id="create-clear-directory.xpl"><a name="create-clear-directory.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.2</span> XProc (3.0) pipeline: <code class="code">create-clear-directory.xpl</code></h2><p class="para keep-with-next" id="d9458e6679"><a name="d9458e6679"><!----></a>File: <code class="code">xpl3mod/create-clear-directory/create-clear-directory.xpl</code></p><p class="para" id="d9458e6683"><a name="d9458e6683"><!----></a>Type: <code class="code">xtlc:create-clear-directory</code></p><p class="para" id="d9458e6687"><a name="d9458e6687"><!----></a>This step does two things:</p><ul class="itemizedlist" id="d9458e6689"><a name="d9458e6689"><!----></a><li id="d9458e6690"><a name="d9458e6690"><!----></a><p class="para" id="d9458e6691"><a name="d9458e6691"><!----></a>When <code class="code">$clear</code> is true, it removes an (optionally) existing directory</p></li><li id="d9458e6696"><a name="d9458e6696"><!----></a><p class="para" id="d9458e6697"><a name="d9458e6697"><!----></a>Then it makes sure the directory always exists</p></li></ul><p class="para" id="d9458e6699"><a name="d9458e6699"><!----></a>It doesn't matter whether the directory exists beforehand.</p><p class="para" id="d9458e6701"><a name="d9458e6701"><!----></a>The step itself acts as an identity step.</p><div class="table nonumber" id="d9458e6703"><a name="d9458e6703"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6710" class="thead-light"><tr id="d9458e6711"><th id="d9458e6712"><a name="d9458e6712"><!----></a>Port</th><th id="d9458e6714"><a name="d9458e6714"><!----></a>Type</th><th id="d9458e6716"><a name="d9458e6716"><!----></a>Primary?</th><th id="d9458e6718"><a name="d9458e6718"><!----></a>Description</th></tr></thead><tbody id="d9458e6720"><tr id="d9458e6721"><td id="d9458e6722"><a name="d9458e6722"><!----></a><a name="d9458e6723"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6726"><a name="d9458e6726"><!----></a>in</td><td id="d9458e6728"><a name="d9458e6728"><!----></a>yes</td><td id="d9458e6730"><a name="d9458e6730"><!----></a></td></tr><tr id="d9458e6731"><td id="d9458e6732"><a name="d9458e6732"><!----></a><a name="d9458e6733"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6736"><a name="d9458e6736"><!----></a>out</td><td id="d9458e6738"><a name="d9458e6738"><!----></a>yes</td><td id="d9458e6740"><a name="d9458e6740"><!----></a></td></tr></tbody></table></div><div class="table nonumber" id="d9458e6741"><a name="d9458e6741"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6749" class="thead-light"><tr id="d9458e6750"><th id="d9458e6751"><a name="d9458e6751"><!----></a>Option</th><th id="d9458e6753"><a name="d9458e6753"><!----></a>Type</th><th id="d9458e6755"><a name="d9458e6755"><!----></a>Rq?</th><th id="d9458e6757"><a name="d9458e6757"><!----></a>Default</th><th id="d9458e6759"><a name="d9458e6759"><!----></a>Description</th></tr></thead><tbody id="d9458e6761"><tr id="d9458e6762"><td id="d9458e6763"><a name="d9458e6763"><!----></a><a name="d9458e6764"><!----></a><code class="code code-width-limited">clear</code></td><td id="d9458e6767"><a name="d9458e6767"><!----></a><a name="d9458e6768"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6771"><a name="d9458e6771"><!----></a><a name="d9458e6772"><!----></a>Â </td><td id="d9458e6774"><a name="d9458e6774"><!----></a><a name="d9458e6775"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6778"><a name="d9458e6778"><!----></a><a name="d9458e6779"><!----></a>Whether or not to empty an existing directory.</td></tr><tr id="d9458e6781"><td id="d9458e6782"><a name="d9458e6782"><!----></a><a name="d9458e6783"><!----></a><code class="code code-width-limited">href-dir</code></td><td id="d9458e6786"><a name="d9458e6786"><!----></a><a name="d9458e6787"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e6790"><a name="d9458e6790"><!----></a><a name="d9458e6791"><!----></a>yes</td><td id="d9458e6793"><a name="d9458e6793"><!----></a><a name="d9458e6794"><!----></a><code class="code code-width-limited"/></td><td id="d9458e6796"><a name="d9458e6796"><!----></a><a name="d9458e6797"><!----></a>The full path/URI of the directory to delete.</td></tr></tbody></table></div></div><div class="sect1" id="expand-macro-definitions.xpl"><a name="expand-macro-definitions.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.3</span> XProc (3.0) pipeline: <code class="code">expand-macro-definitions.xpl</code></h2><p class="para keep-with-next" id="d9458e6804"><a name="d9458e6804"><!----></a>File: <code class="code">xpl3mod/expand-macro-definitions/expand-macro-definitions.xpl</code></p><p class="para" id="d9458e6808"><a name="d9458e6808"><!----></a>Type: <code class="code">xtlc:expand-macro-definitions</code></p><p class="para" id="d9458e6812"><a name="d9458e6812"><!----></a>This is an XProc driver for the <code class="code">xtlc:expand-macro-definitions</code> template in <code class="code">xslmod/macrodefs.mod.xsl</code>.</p><div class="table nonumber" id="d9458e6820"><a name="d9458e6820"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6827" class="thead-light"><tr id="d9458e6828"><th id="d9458e6829"><a name="d9458e6829"><!----></a>Port</th><th id="d9458e6831"><a name="d9458e6831"><!----></a>Type</th><th id="d9458e6833"><a name="d9458e6833"><!----></a>Primary?</th><th id="d9458e6835"><a name="d9458e6835"><!----></a>Description</th></tr></thead><tbody id="d9458e6837"><tr id="d9458e6838"><td id="d9458e6839"><a name="d9458e6839"><!----></a><a name="d9458e6840"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e6843"><a name="d9458e6843"><!----></a>in</td><td id="d9458e6845"><a name="d9458e6845"><!----></a>yes</td><td id="d9458e6847"><a name="d9458e6847"><!----></a><a name="d9458e6848"><!----></a>The document to expand the macro definition references in</td></tr><tr id="d9458e6850"><td id="d9458e6851"><a name="d9458e6851"><!----></a><a name="d9458e6852"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e6855"><a name="d9458e6855"><!----></a>out</td><td id="d9458e6857"><a name="d9458e6857"><!----></a>yes</td><td id="d9458e6859"><a name="d9458e6859"><!----></a><a name="d9458e6860"><!----></a>The resulting document with the macro definitions expanded.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e6862"><a name="d9458e6862"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e6870" class="thead-light"><tr id="d9458e6871"><th id="d9458e6872"><a name="d9458e6872"><!----></a>Option</th><th id="d9458e6874"><a name="d9458e6874"><!----></a>Type</th><th id="d9458e6876"><a name="d9458e6876"><!----></a>Rq?</th><th id="d9458e6878"><a name="d9458e6878"><!----></a>Default</th><th id="d9458e6880"><a name="d9458e6880"><!----></a>Description</th></tr></thead><tbody id="d9458e6882"><tr id="d9458e6883"><td id="d9458e6884"><a name="d9458e6884"><!----></a><a name="d9458e6885"><!----></a><code class="code code-width-limited">add-macrodef-comments</code></td><td id="d9458e6888"><a name="d9458e6888"><!----></a><a name="d9458e6889"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6892"><a name="d9458e6892"><!----></a><a name="d9458e6893"><!----></a>Â </td><td id="d9458e6895"><a name="d9458e6895"><!----></a><a name="d9458e6896"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e6899"><a name="d9458e6899"><!----></a><a name="d9458e6900"><!----></a>Whether to add a macro definition comment (summarizing all macro definitions) when a <code class="code">&lt;*:macrodefs&gt;</code> element is processed.</td></tr><tr id="d9458e6905"><td id="d9458e6906"><a name="d9458e6906"><!----></a><a name="d9458e6907"><!----></a><code class="code code-width-limited">expand-in-attributes</code></td><td id="d9458e6910"><a name="d9458e6910"><!----></a><a name="d9458e6911"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6914"><a name="d9458e6914"><!----></a><a name="d9458e6915"><!----></a>Â </td><td id="d9458e6917"><a name="d9458e6917"><!----></a><a name="d9458e6918"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6921"><a name="d9458e6921"><!----></a><a name="d9458e6922"><!----></a>Whether to expand the macro definitions in attributes.</td></tr><tr id="d9458e6924"><td id="d9458e6925"><a name="d9458e6925"><!----></a><a name="d9458e6926"><!----></a><code class="code code-width-limited">expand-in-text</code></td><td id="d9458e6929"><a name="d9458e6929"><!----></a><a name="d9458e6930"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6933"><a name="d9458e6933"><!----></a><a name="d9458e6934"><!----></a>Â </td><td id="d9458e6936"><a name="d9458e6936"><!----></a><a name="d9458e6937"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6940"><a name="d9458e6940"><!----></a><a name="d9458e6941"><!----></a>Whether to expand the macro definitions in text nodes.</td></tr><tr id="d9458e6943"><td id="d9458e6944"><a name="d9458e6944"><!----></a><a name="d9458e6945"><!----></a><code class="code code-width-limited">macrodefs</code></td><td id="d9458e6948"><a name="d9458e6948"><!----></a><a name="d9458e6949"><!----></a><code class="code code-width-limited">map(xs:string, xs:string)*</code></td><td id="d9458e6952"><a name="d9458e6952"><!----></a><a name="d9458e6953"><!----></a>Â </td><td id="d9458e6955"><a name="d9458e6955"><!----></a><a name="d9458e6956"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e6959"><a name="d9458e6959"><!----></a><a name="d9458e6960"><!----></a>Any initial macro definitions.</td></tr><tr id="d9458e6962"><td id="d9458e6963"><a name="d9458e6963"><!----></a><a name="d9458e6964"><!----></a><code class="code code-width-limited">use-local-macrodefs</code></td><td id="d9458e6967"><a name="d9458e6967"><!----></a><a name="d9458e6968"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6971"><a name="d9458e6971"><!----></a><a name="d9458e6972"><!----></a>Â </td><td id="d9458e6974"><a name="d9458e6974"><!----></a><a name="d9458e6975"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e6978"><a name="d9458e6978"><!----></a><a name="d9458e6979"><!----></a>Check for <code class="code">&lt;*:macrodefs&gt;</code> element as first child and process accordingly</td></tr><tr id="d9458e6984"><td id="d9458e6985"><a name="d9458e6985"><!----></a><a name="d9458e6986"><!----></a><code class="code code-width-limited">use-standard-macrodefs</code></td><td id="d9458e6989"><a name="d9458e6989"><!----></a><a name="d9458e6990"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e6993"><a name="d9458e6993"><!----></a><a name="d9458e6994"><!----></a>Â </td><td id="d9458e6996"><a name="d9458e6996"><!----></a><a name="d9458e6997"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7000"><a name="d9458e7000"><!----></a><a name="d9458e7001"><!----></a>Whether to use the standard macro definitions.</td></tr></tbody></table></div></div><div class="sect1" id="recursive-directory-list.xpl"><a name="recursive-directory-list.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.4</span> XProc (3.0) pipeline: <code class="code">recursive-directory-list.xpl</code></h2><p class="para keep-with-next" id="d9458e7008"><a name="d9458e7008"><!----></a>File: <code class="code">xpl3mod/recursive-directory-list/recursive-directory-list.xpl</code></p><p class="para" id="d9458e7012"><a name="d9458e7012"><!----></a>Type: <code class="code">xtlc:recursive-directory-list</code></p><p class="para" id="d9458e7016"><a name="d9458e7016"><!----></a>Extension of standard the <code class="code">p:directory</code> list step. Returns the contents of a directory, going into sub-directories recursively. Adds the possibility to "flatten" the list.</p><p class="para" id="d9458e7021"><a name="d9458e7021"><!----></a>This step will also <span class="emphasis italic">not</span> throw an error when the directory does not exist. Instead it will simply return an empty result (with an <code class="code">error="true</code> attribute).</p><div class="table nonumber" id="d9458e7029"><a name="d9458e7029"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7036" class="thead-light"><tr id="d9458e7037"><th id="d9458e7038"><a name="d9458e7038"><!----></a>Port</th><th id="d9458e7040"><a name="d9458e7040"><!----></a>Type</th><th id="d9458e7042"><a name="d9458e7042"><!----></a>Primary?</th><th id="d9458e7044"><a name="d9458e7044"><!----></a>Description</th></tr></thead><tbody id="d9458e7046"><tr id="d9458e7047"><td id="d9458e7048"><a name="d9458e7048"><!----></a><a name="d9458e7049"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7052"><a name="d9458e7052"><!----></a>out</td><td id="d9458e7054"><a name="d9458e7054"><!----></a>yes</td><td id="d9458e7056"><a name="d9458e7056"><!----></a><a name="d9458e7057"><!----></a>The resulting directory structure in XML format. See the standard <code class="code">p:directory-list</code> step for a more detailed description.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7062"><a name="d9458e7062"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7070" class="thead-light"><tr id="d9458e7071"><th id="d9458e7072"><a name="d9458e7072"><!----></a>Option</th><th id="d9458e7074"><a name="d9458e7074"><!----></a>Type</th><th id="d9458e7076"><a name="d9458e7076"><!----></a>Rq?</th><th id="d9458e7078"><a name="d9458e7078"><!----></a>Default</th><th id="d9458e7080"><a name="d9458e7080"><!----></a>Description</th></tr></thead><tbody id="d9458e7082"><tr id="d9458e7083"><td id="d9458e7084"><a name="d9458e7084"><!----></a><a name="d9458e7085"><!----></a><code class="code code-width-limited">add-decoded</code></td><td id="d9458e7088"><a name="d9458e7088"><!----></a><a name="d9458e7089"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7092"><a name="d9458e7092"><!----></a><a name="d9458e7093"><!----></a>Â </td><td id="d9458e7095"><a name="d9458e7095"><!----></a><a name="d9458e7096"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7099"><a name="d9458e7099"><!----></a><a name="d9458e7100"><!----></a>When <code class="code">true</code> and <code class="code">$flatten</code> is <code class="code">true</code>, attributes <code class="code">@href-rel-decoded</code> and <code class="code">@href-abs-decoded</code> are added in which any percent encoded characters are decoded.</td></tr><tr id="d9458e7117"><td id="d9458e7118"><a name="d9458e7118"><!----></a><a name="d9458e7119"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e7122"><a name="d9458e7122"><!----></a><a name="d9458e7123"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7126"><a name="d9458e7126"><!----></a><a name="d9458e7127"><!----></a>Â </td><td id="d9458e7129"><a name="d9458e7129"><!----></a><a name="d9458e7130"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e7133"><a name="d9458e7133"><!----></a><a name="d9458e7134"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e7139"><td id="d9458e7140"><a name="d9458e7140"><!----></a><a name="d9458e7141"><!----></a><code class="code code-width-limited">detailed</code></td><td id="d9458e7144"><a name="d9458e7144"><!----></a><a name="d9458e7145"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7148"><a name="d9458e7148"><!----></a><a name="d9458e7149"><!----></a>Â </td><td id="d9458e7151"><a name="d9458e7151"><!----></a><a name="d9458e7152"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7155"><a name="d9458e7155"><!----></a><a name="d9458e7156"><!----></a>Whether to add detailed information.</td></tr><tr id="d9458e7158"><td id="d9458e7159"><a name="d9458e7159"><!----></a><a name="d9458e7160"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e7163"><a name="d9458e7163"><!----></a><a name="d9458e7164"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7167"><a name="d9458e7167"><!----></a><a name="d9458e7168"><!----></a>Â </td><td id="d9458e7170"><a name="d9458e7170"><!----></a><a name="d9458e7171"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e7174"><a name="d9458e7174"><!----></a><a name="d9458e7175"><!----></a>Optional regular expression exclude filters. By default, git directories are excluded.</td></tr><tr id="d9458e7177"><td id="d9458e7178"><a name="d9458e7178"><!----></a><a name="d9458e7179"><!----></a><code class="code code-width-limited">flatten</code></td><td id="d9458e7182"><a name="d9458e7182"><!----></a><a name="d9458e7183"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7186"><a name="d9458e7186"><!----></a><a name="d9458e7187"><!----></a>Â </td><td id="d9458e7189"><a name="d9458e7189"><!----></a><a name="d9458e7190"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7193"><a name="d9458e7193"><!----></a><a name="d9458e7194"><!----></a>When <code class="code">true</code>, the list will be "flattened": All <code class="code">c:file</code> children will be direct children of the root's <code class="code">c:directory</code> element. These <code class="code">c:file</code> elements get a <code class="code">@name</code>, <code class="code">@href-abs</code> (absolute filename) and <code class="code">@href-rel</code> (relative filename) attribute.</td></tr><tr id="d9458e7218"><td id="d9458e7219"><a name="d9458e7219"><!----></a><a name="d9458e7220"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e7223"><a name="d9458e7223"><!----></a><a name="d9458e7224"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7227"><a name="d9458e7227"><!----></a><a name="d9458e7228"><!----></a>Â </td><td id="d9458e7230"><a name="d9458e7230"><!----></a><a name="d9458e7231"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7233"><a name="d9458e7233"><!----></a><a name="d9458e7234"><!----></a>Optional regular expression include filters.</td></tr><tr id="d9458e7236"><td id="d9458e7237"><a name="d9458e7237"><!----></a><a name="d9458e7238"><!----></a><code class="code code-width-limited">override-content-types</code></td><td id="d9458e7241"><a name="d9458e7241"><!----></a><a name="d9458e7242"><!----></a><code class="code code-width-limited">array(array(xs:string))?</code></td><td id="d9458e7245"><a name="d9458e7245"><!----></a><a name="d9458e7246"><!----></a>Â </td><td id="d9458e7248"><a name="d9458e7248"><!----></a><a name="d9458e7249"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7252"><a name="d9458e7252"><!----></a><a name="d9458e7253"><!----></a>Override content types specification (see description of <code class="code">p:directory-list</code>).</td></tr><tr id="d9458e7258"><td id="d9458e7259"><a name="d9458e7259"><!----></a><a name="d9458e7260"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e7263"><a name="d9458e7263"><!----></a><a name="d9458e7264"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7267"><a name="d9458e7267"><!----></a><a name="d9458e7268"><!----></a>yes</td><td id="d9458e7270"><a name="d9458e7270"><!----></a><a name="d9458e7271"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7273"><a name="d9458e7273"><!----></a><a name="d9458e7274"><!----></a>The path to get the directory listing from.</td></tr></tbody></table></div></div><div class="sect1" id="subdir-list.xpl"><a name="subdir-list.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.5</span> XProc (3.0) pipeline: <code class="code">subdir-list.xpl</code></h2><p class="para keep-with-next" id="d9458e7281"><a name="d9458e7281"><!----></a>File: <code class="code">xpl3mod/subdir-list/subdir-list.xpl</code></p><p class="para" id="d9458e7285"><a name="d9458e7285"><!----></a>Type: <code class="code">xtlc:subdir-list</code></p><p class="para" id="d9458e7289"><a name="d9458e7289"><!----></a>Returns an XML document with the sub-directories of a given directory.</p><div class="programlisting" id="d9458e7291"><a name="d9458e7291"><!----></a><pre class="programlisting">&lt;subdir-list href="..."&gt;
  &lt;subdir href="..." name="..."/&gt;
  ...
&lt;/subdir-list&gt;</pre></div><p class="para" id="d9458e7293"><a name="d9458e7293"><!----></a>If an error occurs, it will only return the root element with an additional error="true" attribute. Will not recurse!</p><div class="table nonumber" id="d9458e7295"><a name="d9458e7295"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7302" class="thead-light"><tr id="d9458e7303"><th id="d9458e7304"><a name="d9458e7304"><!----></a>Port</th><th id="d9458e7306"><a name="d9458e7306"><!----></a>Type</th><th id="d9458e7308"><a name="d9458e7308"><!----></a>Primary?</th><th id="d9458e7310"><a name="d9458e7310"><!----></a>Description</th></tr></thead><tbody id="d9458e7312"><tr id="d9458e7313"><td id="d9458e7314"><a name="d9458e7314"><!----></a><a name="d9458e7315"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7318"><a name="d9458e7318"><!----></a>out</td><td id="d9458e7320"><a name="d9458e7320"><!----></a>yes</td><td id="d9458e7322"><a name="d9458e7322"><!----></a><a name="d9458e7323"><!----></a>The sub-directory listing (as described above).</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7325"><a name="d9458e7325"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7333" class="thead-light"><tr id="d9458e7334"><th id="d9458e7335"><a name="d9458e7335"><!----></a>Option</th><th id="d9458e7337"><a name="d9458e7337"><!----></a>Type</th><th id="d9458e7339"><a name="d9458e7339"><!----></a>Rq?</th><th id="d9458e7341"><a name="d9458e7341"><!----></a>Default</th><th id="d9458e7343"><a name="d9458e7343"><!----></a>Description</th></tr></thead><tbody id="d9458e7345"><tr id="d9458e7346"><td id="d9458e7347"><a name="d9458e7347"><!----></a><a name="d9458e7348"><!----></a><code class="code code-width-limited">path</code></td><td id="d9458e7351"><a name="d9458e7351"><!----></a><a name="d9458e7352"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7355"><a name="d9458e7355"><!----></a><a name="d9458e7356"><!----></a>yes</td><td id="d9458e7358"><a name="d9458e7358"><!----></a><a name="d9458e7359"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7361"><a name="d9458e7361"><!----></a><a name="d9458e7362"><!----></a>The path to get the sub-directories from. Always use an absolute path!</td></tr></tbody></table></div></div><div class="sect1" id="validate.xpl"><a name="validate.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.6</span> XProc (3.0) pipeline: <code class="code">validate.xpl</code></h2><p class="para keep-with-next" id="d9458e7370"><a name="d9458e7370"><!----></a>File: <code class="code">xpl3mod/validate/validate.xpl</code></p><p class="para" id="d9458e7374"><a name="d9458e7374"><!----></a>Type: <code class="code">xtlc:validate</code></p><p class="para" id="d9458e7378"><a name="d9458e7378"><!----></a>This step performs validation using a W3C Schema and/or Schematron. It breaks the processing if something is wrong.</p><p class="para" id="d9458e7380"><a name="d9458e7380"><!----></a>This might seem superfluous (there are already <code class="code">p:validate-with...</code> steps), but often these steps <span class="emphasis italic">change</span> the document. This step performs like a real identity step.</p><div class="table nonumber" id="d9458e7388"><a name="d9458e7388"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7395" class="thead-light"><tr id="d9458e7396"><th id="d9458e7397"><a name="d9458e7397"><!----></a>Port</th><th id="d9458e7399"><a name="d9458e7399"><!----></a>Type</th><th id="d9458e7401"><a name="d9458e7401"><!----></a>Primary?</th><th id="d9458e7403"><a name="d9458e7403"><!----></a>Description</th></tr></thead><tbody id="d9458e7405"><tr id="d9458e7406"><td id="d9458e7407"><a name="d9458e7407"><!----></a><a name="d9458e7408"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e7411"><a name="d9458e7411"><!----></a>in</td><td id="d9458e7413"><a name="d9458e7413"><!----></a>yes</td><td id="d9458e7415"><a name="d9458e7415"><!----></a><a name="d9458e7416"><!----></a>Document to validate.</td></tr><tr id="d9458e7418"><td id="d9458e7419"><a name="d9458e7419"><!----></a><a name="d9458e7420"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7423"><a name="d9458e7423"><!----></a>out</td><td id="d9458e7425"><a name="d9458e7425"><!----></a>yes</td><td id="d9458e7427"><a name="d9458e7427"><!----></a><a name="d9458e7428"><!----></a>The same as the input document.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7430"><a name="d9458e7430"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7438" class="thead-light"><tr id="d9458e7439"><th id="d9458e7440"><a name="d9458e7440"><!----></a>Option</th><th id="d9458e7442"><a name="d9458e7442"><!----></a>Type</th><th id="d9458e7444"><a name="d9458e7444"><!----></a>Rq?</th><th id="d9458e7446"><a name="d9458e7446"><!----></a>Default</th><th id="d9458e7448"><a name="d9458e7448"><!----></a>Description</th></tr></thead><tbody id="d9458e7450"><tr id="d9458e7451"><td id="d9458e7452"><a name="d9458e7452"><!----></a><a name="d9458e7453"><!----></a><code class="code code-width-limited">href-schema</code></td><td id="d9458e7456"><a name="d9458e7456"><!----></a><a name="d9458e7457"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d9458e7460"><a name="d9458e7460"><!----></a><a name="d9458e7461"><!----></a>Â </td><td id="d9458e7463"><a name="d9458e7463"><!----></a><a name="d9458e7464"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7467"><a name="d9458e7467"><!----></a><a name="d9458e7468"><!----></a>Optional reference to an W3C Schema to validate the document with. If <code class="code">()</code>, no schema validation will be performed.</td></tr><tr id="d9458e7473"><td id="d9458e7474"><a name="d9458e7474"><!----></a><a name="d9458e7475"><!----></a><code class="code code-width-limited">href-schematron</code></td><td id="d9458e7478"><a name="d9458e7478"><!----></a><a name="d9458e7479"><!----></a><code class="code code-width-limited">xs:string?</code></td><td id="d9458e7482"><a name="d9458e7482"><!----></a><a name="d9458e7483"><!----></a>Â </td><td id="d9458e7485"><a name="d9458e7485"><!----></a><a name="d9458e7486"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7489"><a name="d9458e7489"><!----></a><a name="d9458e7490"><!----></a>Optional reference to a Schematron Schema to validate the document with. If <code class="code">()</code>, no Schematron validation will be performed.</td></tr><tr id="d9458e7495"><td id="d9458e7496"><a name="d9458e7496"><!----></a><a name="d9458e7497"><!----></a><code class="code code-width-limited">schema-version</code></td><td id="d9458e7500"><a name="d9458e7500"><!----></a><a name="d9458e7501"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7504"><a name="d9458e7504"><!----></a><a name="d9458e7505"><!----></a>Â </td><td id="d9458e7507"><a name="d9458e7507"><!----></a><a name="d9458e7508"><!----></a><code class="code code-width-limited">'1.0'</code></td><td id="d9458e7511"><a name="d9458e7511"><!----></a><a name="d9458e7512"><!----></a>The W3C Schema version to use.</td></tr><tr id="d9458e7514"><td id="d9458e7515"><a name="d9458e7515"><!----></a><a name="d9458e7516"><!----></a><code class="code code-width-limited">simplify-error-messages</code></td><td id="d9458e7519"><a name="d9458e7519"><!----></a><a name="d9458e7520"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7523"><a name="d9458e7523"><!----></a><a name="d9458e7524"><!----></a>Â </td><td id="d9458e7526"><a name="d9458e7526"><!----></a><a name="d9458e7527"><!----></a><code class="code code-width-limited">false()</code></td><td id="d9458e7530"><a name="d9458e7530"><!----></a><a name="d9458e7531"><!----></a>Whether to simplify the error messages. Only output the first error.</td></tr></tbody></table></div></div><div class="sect1" id="write-log.xpl"><a name="write-log.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.7</span> XProc (3.0) pipeline: <code class="code">write-log.xpl</code></h2><p class="para keep-with-next" id="d9458e7538"><a name="d9458e7538"><!----></a>File: <code class="code">xpl3mod/write-log/write-log.xpl</code></p><p class="para" id="d9458e7542"><a name="d9458e7542"><!----></a>Type: <code class="code">xtlc:write-log</code></p><p class="para" id="d9458e7546"><a name="d9458e7546"><!----></a>Writes an entry to a log file.</p><p class="para" id="d9458e7548"><a name="d9458e7548"><!----></a>With regards to documents flowing through, acts like a <code class="code">p:identity</code> step.</p><div class="table nonumber" id="d9458e7553"><a name="d9458e7553"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7560" class="thead-light"><tr id="d9458e7561"><th id="d9458e7562"><a name="d9458e7562"><!----></a>Port</th><th id="d9458e7564"><a name="d9458e7564"><!----></a>Type</th><th id="d9458e7566"><a name="d9458e7566"><!----></a>Primary?</th><th id="d9458e7568"><a name="d9458e7568"><!----></a>Description</th></tr></thead><tbody id="d9458e7570"><tr id="d9458e7571"><td id="d9458e7572"><a name="d9458e7572"><!----></a><a name="d9458e7573"><!----></a><code class="code code-width-limited">source</code></td><td id="d9458e7576"><a name="d9458e7576"><!----></a>in</td><td id="d9458e7578"><a name="d9458e7578"><!----></a>yes</td><td id="d9458e7580"><a name="d9458e7580"><!----></a><a name="d9458e7581"><!----></a>Documents will be passed unchanged to the <code class="code">result</code> port.</td></tr><tr id="d9458e7586"><td id="d9458e7587"><a name="d9458e7587"><!----></a><a name="d9458e7588"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7591"><a name="d9458e7591"><!----></a>out</td><td id="d9458e7593"><a name="d9458e7593"><!----></a>yes</td><td id="d9458e7595"><a name="d9458e7595"><!----></a><a name="d9458e7596"><!----></a>Documents coming from the <code class="code">source</code> port, unchanged.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7601"><a name="d9458e7601"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7609" class="thead-light"><tr id="d9458e7610"><th id="d9458e7611"><a name="d9458e7611"><!----></a>Option</th><th id="d9458e7613"><a name="d9458e7613"><!----></a>Type</th><th id="d9458e7615"><a name="d9458e7615"><!----></a>Rq?</th><th id="d9458e7617"><a name="d9458e7617"><!----></a>Default</th><th id="d9458e7619"><a name="d9458e7619"><!----></a>Description</th></tr></thead><tbody id="d9458e7621"><tr id="d9458e7622"><td id="d9458e7623"><a name="d9458e7623"><!----></a><a name="d9458e7624"><!----></a><code class="code code-width-limited">additional-attributes</code></td><td id="d9458e7627"><a name="d9458e7627"><!----></a><a name="d9458e7628"><!----></a><code class="code code-width-limited">map(xs:QName, xs:string)?</code></td><td id="d9458e7631"><a name="d9458e7631"><!----></a><a name="d9458e7632"><!----></a>Â </td><td id="d9458e7634"><a name="d9458e7634"><!----></a><a name="d9458e7635"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7638"><a name="d9458e7638"><!----></a><a name="d9458e7639"><!----></a>A map with additional attributes to add to the log entry's <code class="code">entry</code> element.</td></tr><tr id="d9458e7644"><td id="d9458e7645"><a name="d9458e7645"><!----></a><a name="d9458e7646"><!----></a><code class="code code-width-limited">additional-elements</code></td><td id="d9458e7649"><a name="d9458e7649"><!----></a><a name="d9458e7650"><!----></a><code class="code code-width-limited">element()*</code></td><td id="d9458e7653"><a name="d9458e7653"><!----></a><a name="d9458e7654"><!----></a>Â </td><td id="d9458e7656"><a name="d9458e7656"><!----></a><a name="d9458e7657"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7660"><a name="d9458e7660"><!----></a><a name="d9458e7661"><!----></a>Elements with additional information to add to this log entry.</td></tr><tr id="d9458e7663"><td id="d9458e7664"><a name="d9458e7664"><!----></a><a name="d9458e7665"><!----></a><code class="code code-width-limited">enable</code></td><td id="d9458e7668"><a name="d9458e7668"><!----></a><a name="d9458e7669"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7672"><a name="d9458e7672"><!----></a><a name="d9458e7673"><!----></a>Â </td><td id="d9458e7675"><a name="d9458e7675"><!----></a><a name="d9458e7676"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7679"><a name="d9458e7679"><!----></a><a name="d9458e7680"><!----></a>Whether the logging will be done at all.</td></tr><tr id="d9458e7682"><td id="d9458e7683"><a name="d9458e7683"><!----></a><a name="d9458e7684"><!----></a><code class="code code-width-limited">enable-debug-messages</code></td><td id="d9458e7687"><a name="d9458e7687"><!----></a><a name="d9458e7688"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7691"><a name="d9458e7691"><!----></a><a name="d9458e7692"><!----></a>Â </td><td id="d9458e7694"><a name="d9458e7694"><!----></a><a name="d9458e7695"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7698"><a name="d9458e7698"><!----></a><a name="d9458e7699"><!----></a>Whether messages with debug status will be written as well.</td></tr><tr id="d9458e7701"><td id="d9458e7702"><a name="d9458e7702"><!----></a><a name="d9458e7703"><!----></a><code class="code code-width-limited">href-log</code></td><td id="d9458e7706"><a name="d9458e7706"><!----></a><a name="d9458e7707"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7710"><a name="d9458e7710"><!----></a><a name="d9458e7711"><!----></a>yes</td><td id="d9458e7713"><a name="d9458e7713"><!----></a><a name="d9458e7714"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7716"><a name="d9458e7716"><!----></a><a name="d9458e7717"><!----></a>URI of the file to write the log entries to.</td></tr><tr id="d9458e7719"><td id="d9458e7720"><a name="d9458e7720"><!----></a><a name="d9458e7721"><!----></a><code class="code code-width-limited">keep-entries</code></td><td id="d9458e7724"><a name="d9458e7724"><!----></a><a name="d9458e7725"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7728"><a name="d9458e7728"><!----></a><a name="d9458e7729"><!----></a>Â </td><td id="d9458e7731"><a name="d9458e7731"><!----></a><a name="d9458e7732"><!----></a><code class="code code-width-limited">0</code></td><td id="d9458e7735"><a name="d9458e7735"><!----></a><a name="d9458e7736"><!----></a>The number of entries to keep in the logfile. If le <code class="code">0</code>, all messages are kept.</td></tr><tr id="d9458e7741"><td id="d9458e7742"><a name="d9458e7742"><!----></a><a name="d9458e7743"><!----></a><code class="code code-width-limited">log-comments</code></td><td id="d9458e7746"><a name="d9458e7746"><!----></a><a name="d9458e7747"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7750"><a name="d9458e7750"><!----></a><a name="d9458e7751"><!----></a>Â </td><td id="d9458e7753"><a name="d9458e7753"><!----></a><a name="d9458e7754"><!----></a><code class="code code-width-limited">()</code></td><td id="d9458e7757"><a name="d9458e7757"><!----></a><a name="d9458e7758"><!----></a>Any comments to write as file header when creating a new log file. Ignored on an existing log file.</td></tr><tr id="d9458e7760"><td id="d9458e7761"><a name="d9458e7761"><!----></a><a name="d9458e7762"><!----></a><code class="code code-width-limited">messages</code></td><td id="d9458e7765"><a name="d9458e7765"><!----></a><a name="d9458e7766"><!----></a><code class="code code-width-limited">xs:string+</code></td><td id="d9458e7769"><a name="d9458e7769"><!----></a><a name="d9458e7770"><!----></a>yes</td><td id="d9458e7772"><a name="d9458e7772"><!----></a><a name="d9458e7773"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7775"><a name="d9458e7775"><!----></a><a name="d9458e7776"><!----></a>The actual texts/lines of the log entry to write. All will become a separate <code class="code">message</code> element.</td></tr><tr id="d9458e7781"><td id="d9458e7782"><a name="d9458e7782"><!----></a><a name="d9458e7783"><!----></a><code class="code code-width-limited">status</code></td><td id="d9458e7786"><a name="d9458e7786"><!----></a><a name="d9458e7787"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7790"><a name="d9458e7790"><!----></a><a name="d9458e7791"><!----></a>Â </td><td id="d9458e7793"><a name="d9458e7793"><!----></a><a name="d9458e7794"><!----></a><code class="code code-width-limited">'info'</code></td><td id="d9458e7797"><a name="d9458e7797"><!----></a><a name="d9458e7798"><!----></a>Status of the entry. Must be <code class="code">info</code>, <code class="code">warning</code>, <code class="code">error</code> or <code class="code">debug</code>.</td></tr></tbody></table></div></div><div class="sect1" id="zip-directory.xpl"><a name="zip-directory.xpl"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.8</span> XProc (3.0) pipeline: <code class="code">zip-directory.xpl</code></h2><p class="para keep-with-next" id="d9458e7817"><a name="d9458e7817"><!----></a>File: <code class="code">xpl3mod/zip-directory/zip-directory.xpl</code></p><p class="para" id="d9458e7821"><a name="d9458e7821"><!----></a>Type: <code class="code">xtlc:zip-directory</code></p><p class="para" id="d9458e7825"><a name="d9458e7825"><!----></a>Zips a directory into a single zip file.</p><div class="table nonumber" id="d9458e7827"><a name="d9458e7827"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7834" class="thead-light"><tr id="d9458e7835"><th id="d9458e7836"><a name="d9458e7836"><!----></a>Port</th><th id="d9458e7838"><a name="d9458e7838"><!----></a>Type</th><th id="d9458e7840"><a name="d9458e7840"><!----></a>Primary?</th><th id="d9458e7842"><a name="d9458e7842"><!----></a>Description</th></tr></thead><tbody id="d9458e7844"><tr id="d9458e7845"><td id="d9458e7846"><a name="d9458e7846"><!----></a><a name="d9458e7847"><!----></a><code class="code code-width-limited">result</code></td><td id="d9458e7850"><a name="d9458e7850"><!----></a>out</td><td id="d9458e7852"><a name="d9458e7852"><!----></a>yes</td><td id="d9458e7854"><a name="d9458e7854"><!----></a><a name="d9458e7855"><!----></a>The archive manifest of the created zip file.</td></tr></tbody></table></div><div class="table nonumber" id="d9458e7857"><a name="d9458e7857"><!----></a><table class="table table-sm table-bordered"><thead id="d9458e7865" class="thead-light"><tr id="d9458e7866"><th id="d9458e7867"><a name="d9458e7867"><!----></a>Option</th><th id="d9458e7869"><a name="d9458e7869"><!----></a>Type</th><th id="d9458e7871"><a name="d9458e7871"><!----></a>Rq?</th><th id="d9458e7873"><a name="d9458e7873"><!----></a>Default</th><th id="d9458e7875"><a name="d9458e7875"><!----></a>Description</th></tr></thead><tbody id="d9458e7877"><tr id="d9458e7878"><td id="d9458e7879"><a name="d9458e7879"><!----></a><a name="d9458e7880"><!----></a><code class="code code-width-limited">base-path</code></td><td id="d9458e7883"><a name="d9458e7883"><!----></a><a name="d9458e7884"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7887"><a name="d9458e7887"><!----></a><a name="d9458e7888"><!----></a>yes</td><td id="d9458e7890"><a name="d9458e7890"><!----></a><a name="d9458e7891"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7893"><a name="d9458e7893"><!----></a><a name="d9458e7894"><!----></a>URI of the directory which contents will be stored in the zip.</td></tr><tr id="d9458e7896"><td id="d9458e7897"><a name="d9458e7897"><!----></a><a name="d9458e7898"><!----></a><code class="code code-width-limited">depth</code></td><td id="d9458e7901"><a name="d9458e7901"><!----></a><a name="d9458e7902"><!----></a><code class="code code-width-limited">xs:integer</code></td><td id="d9458e7905"><a name="d9458e7905"><!----></a><a name="d9458e7906"><!----></a>Â </td><td id="d9458e7908"><a name="d9458e7908"><!----></a><a name="d9458e7909"><!----></a><code class="code code-width-limited">-1</code></td><td id="d9458e7912"><a name="d9458e7912"><!----></a><a name="d9458e7913"><!----></a>The sub-directory depth to go. When lt <code class="code">0</code>, all sub-directories are processed.</td></tr><tr id="d9458e7918"><td id="d9458e7919"><a name="d9458e7919"><!----></a><a name="d9458e7920"><!----></a><code class="code code-width-limited">exclude-filter</code></td><td id="d9458e7923"><a name="d9458e7923"><!----></a><a name="d9458e7924"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7927"><a name="d9458e7927"><!----></a><a name="d9458e7928"><!----></a>Â </td><td id="d9458e7930"><a name="d9458e7930"><!----></a><a name="d9458e7931"><!----></a><code class="code code-width-limited">'\.git/'</code></td><td id="d9458e7934"><a name="d9458e7934"><!----></a><a name="d9458e7935"><!----></a>Optional regular expression exclude filters. By default, git directories are excluded.</td></tr><tr id="d9458e7937"><td id="d9458e7938"><a name="d9458e7938"><!----></a><a name="d9458e7939"><!----></a><code class="code code-width-limited">href-target-zip</code></td><td id="d9458e7942"><a name="d9458e7942"><!----></a><a name="d9458e7943"><!----></a><code class="code code-width-limited">xs:string</code></td><td id="d9458e7946"><a name="d9458e7946"><!----></a><a name="d9458e7947"><!----></a>yes</td><td id="d9458e7949"><a name="d9458e7949"><!----></a><a name="d9458e7950"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7952"><a name="d9458e7952"><!----></a><a name="d9458e7953"><!----></a>URI for the zip file to produce.</td></tr><tr id="d9458e7955"><td id="d9458e7956"><a name="d9458e7956"><!----></a><a name="d9458e7957"><!----></a><code class="code code-width-limited">include-base</code></td><td id="d9458e7960"><a name="d9458e7960"><!----></a><a name="d9458e7961"><!----></a><code class="code code-width-limited">xs:boolean</code></td><td id="d9458e7964"><a name="d9458e7964"><!----></a><a name="d9458e7965"><!----></a>Â </td><td id="d9458e7967"><a name="d9458e7967"><!----></a><a name="d9458e7968"><!----></a><code class="code code-width-limited">true()</code></td><td id="d9458e7971"><a name="d9458e7971"><!----></a><a name="d9458e7972"><!----></a>When true, the last part of <code class="code">$base-path</code> (for instance <code class="code">a/b/c</code> ==&gt; <code class="code">c</code>) is used as root directory for entries in the zip file.</td></tr><tr id="d9458e7983"><td id="d9458e7984"><a name="d9458e7984"><!----></a><a name="d9458e7985"><!----></a><code class="code code-width-limited">include-filter</code></td><td id="d9458e7988"><a name="d9458e7988"><!----></a><a name="d9458e7989"><!----></a><code class="code code-width-limited">xs:string*</code></td><td id="d9458e7992"><a name="d9458e7992"><!----></a><a name="d9458e7993"><!----></a>Â </td><td id="d9458e7995"><a name="d9458e7995"><!----></a><a name="d9458e7996"><!----></a><code class="code code-width-limited"/></td><td id="d9458e7998"><a name="d9458e7998"><!----></a><a name="d9458e7999"><!----></a>Optional regular expression include filters.</td></tr></tbody></table></div></div><div class="sect1" id="d9458e8004"><a name="d9458e8004"><!----></a><h2 class="sect1" style="padding-top: 65px; margin-top: -65px;"><span class="sect1-number">3.9</span> oXygen XProc 3.0 support (oXygen versions &lt;Â 26)</h2><p class="para" id="d9458e8009"><a name="d9458e8009"><!----></a>oXygen versions &lt;Â 26 had nor editing support for XProc 3.0. The component contains an oXygen framework that enables validating XProc
        3.0 documents. To use this:</p><ul class="itemizedlist" id="d9458e8012"><a name="d9458e8012"><!----></a><li id="d9458e8014"><a name="d9458e8014"><!----></a><p class="para" id="d9458e8016"><a name="d9458e8016"><!----></a>Add the framework to the oXygen configuration:</p><ul class="itemizedlist" id="d9458e8019"><a name="d9458e8019"><!----></a><li id="d9458e8021"><a name="d9458e8021"><!----></a><p class="para" id="d9458e8023"><a name="d9458e8023"><!----></a>Menu: Options / Preferencesâ¦</p></li><li id="d9458e8027"><a name="d9458e8027"><!----></a><p class="para" id="d9458e8029"><a name="d9458e8029"><!----></a>Navigate to: Document Type Association / Locations</p></li><li id="d9458e8033"><a name="d9458e8033"><!----></a><p class="para" id="d9458e8035"><a name="d9458e8035"><!----></a>Add the full path to <code class="code">xtpxlib-common/frameworks</code></p></li><li id="d9458e8041"><a name="d9458e8041"><!----></a><p class="para" id="d9458e8043"><a name="d9458e8043"><!----></a>Navigate on up to: Document Type Association</p></li><li id="d9458e8047"><a name="d9458e8047"><!----></a><p class="para" id="d9458e8049"><a name="d9458e8049"><!----></a>Check that the XProc 3.0 framework is enabled</p></li></ul></li><li id="d9458e8055"><a name="d9458e8055"><!----></a><p class="para" id="d9458e8057"><a name="d9458e8057"><!----></a>Disable the use of the XProc 1.0 support in oXygen. To do this:</p><ul class="itemizedlist" id="d9458e8060"><a name="d9458e8060"><!----></a><li id="d9458e8062"><a name="d9458e8062"><!----></a><p class="para" id="d9458e8064"><a name="d9458e8064"><!----></a>Menu: Options / Preferencesâ¦</p></li><li id="d9458e8068"><a name="d9458e8068"><!----></a><p class="para" id="d9458e8070"><a name="d9458e8070"><!----></a>Navigate to: File types</p></li><li id="d9458e8074"><a name="d9458e8074"><!----></a><p class="para" id="d9458e8076"><a name="d9458e8076"><!----></a>Associate the file types that you use for XProc 3.0 (in my case <code class="code">.xpl</code> files) with the plain XML editor</p></li></ul></li></ul></div></div><script src="resources/jquery-3.4.1.slim.min.js"><!--  --></script><script src="resources/popper.min.js"><!--  --></script><script src="resources/bootstrap.min.js"><!--  --></script></body>
</html>